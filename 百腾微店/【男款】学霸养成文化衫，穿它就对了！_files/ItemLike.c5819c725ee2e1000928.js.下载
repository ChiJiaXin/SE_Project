(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+0kr":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item-like-wrap",attrs:{"data-spider":"item_likes"}},[e.likeList&&0!=e.likeList.length?i("div",{ref:"itemLikes",staticClass:"item-like-container"},e._l(e.likeList,(function(e,t){return i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],key:t})}))):e._e(),e._v(" "),e.showRemain?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.praiseMorePic,expression:"praiseMorePic"}],staticClass:"more-praise",attrs:{"data-spider-mode":"none","data-spider-action-name":"more_praise"},on:{click:e.morePraise}}):e._e(),e._v(" "),i("span",{staticClass:"praise",attrs:{"data-spider-action-name":"praise"},on:{click:e.praiseHandle}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.praisePic,expression:"praisePic"}],attrs:{alt:""}}),e._v(" "),e.total?i("em",[e._v(e._s(e.total))]):i("em",[e._v("赞")])])])},n=[];a._withStripped=!0,i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}))},FFTr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(i("7K07")),n=i("J5Nv"),s=o(i("17Gp")),r=o(i("r1z5"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ItemLike",data:function(){return{likeList:[],liked:!1,total:"",showRemain:!1}},mounted:function(){this.handleLickInfo()},computed:{praiseMorePic:function(){return this.$_utils.setImg("//si.geilicdn.com/hz_img_6283000001633f204ed40a028841_92_92_unadjust.png")},praisePic:function(){return this.$_utils.setImg("//si.geilicdn.com/hz_img_5b20000001633f15ed110a026860_54_52_unadjust.png")}},methods:{morePraise:function(){this.$_utils.trackAction({actionName:"more_praise",actionArgs:{from:0,to:1}}),window.location.href="//weidian.com/p5/shop/pages/praise-list.php?itemID="+window.itemId},handleLickInfo:function(){var e=this,t={vItemId:window.itemId},i=this;n.Store.getLikeInfo(t).then((function(t){if(t.status&&0==t.status.code){var a=t.result,n=a.item_like,s=a.item_like&&a.item_like.like_list&&a.item_like.like_list.length;i.liked=n.liked,i.total=n.total;var r=document.body.clientWidth,o=Math.floor((r-34-102)/28);if(o<s){e.showRemain=!0;for(var l=0;l<o;l++)e.likeList.push(a.item_like.like_list[l])}else e.likeList=a.item_like&&a.item_like.like_list}}))},praiseHandle:function(){var e=this;if(s.default.isWeixin())if(this.liked)(0,a.default)({content:"你已经点过赞了"});else if(r.default&&r.default.getCookie("WD_wx_id")){var t=window.itemId,i={from:"wechat",userID:r.default.getCookie("WX_openid"),buyerID:r.default.getCookie("WD_wx_id"),itemID:t};n.Store.like(i).then((function(t){if(0===Number(t.status&&t.status.code))e.handleLickInfo();else{var i=t.status&&t.status.message;(0,a.default)({content:i})}}))}else{var o=window.location.href;window.location.href="//sso.weidian.com/user/oauth/wechat/login?type=upvote&redirect="+encodeURIComponent(o)}else(0,a.default)({content:"请在微信里面点赞"})}}},e.exports=t.default},JcEd:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("FFTr");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var n,s=(n=a)&&n.__esModule?n:{default:n};t.default=s.default,e.exports=t.default},K1ZA:function(e,t,i){"use strict";i.r(t);var a=i("+0kr"),n=i("JcEd"),s=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("OBrY");var o=i("KHd+"),l=Object(o.a)(s.a,a.a,a.b,!1,null,"8fe8c47e",null);l.options.__file="workspace/ad42cd3b520458f53cf062341eb221ac/itemServerMixed_prod/src/components/Comment/ItemLike.vue",t.default=l.exports},OBrY:function(e,t,i){"use strict";var a=i("RK99");i.n(a).a},RK99:function(e,t,i){}}]);