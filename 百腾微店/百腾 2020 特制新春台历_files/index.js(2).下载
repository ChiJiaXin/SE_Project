!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//assets.geilicdn.com/v-components/poseidon-sdk/0.4.0/",t(t.s=92)}({23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={env:"production",thor:"//thor.weidian.com",cdnUrl:"//assets.geilicdn.com/v-components/poseidon-sdk/0.4.0"},e.exports=t.default},92:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(23),a=function(e){return e&&e.__esModule?e:{default:e}}(i),c=300,u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.pageSource=n.pageSource||"unknow",this.transformer=n.transformer||[],this.plugins=n.plugins||[],this.delay=this.isPositiveInteger(n.delay)?n.delay:c,this.autoTrackPageView=!1!==n.autoTrackPageView,this.listener=[],setTimeout(function(){t.fetchLatestCorePath(function(e){t.loadCoreScript(e,function(){var n=new window.PoseidonApp({pageSource:t.pageSource,transformer:t.transformer,plugins:t.plugins});t.trackPageView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.trackPageView(e,function(e,n){t.emit("pageview",{req:e,res:n})})},t.trackClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.trackClick(e,function(e,n){t.emit("click",{req:e,res:n})})},t.trackBuyer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.trackBuyer(e,function(e,n){t.emit("buyer",{req:e,res:n})})},t.autoTrackPageView&&t.once("ready",function(){t.trackPageView()}),t.plugins.length?n.loadPlugings(t.plugins,function(){t.plugin=function(e){return n.plugin(e)},t.emit("ready",{path:e})}):t.emit("ready",{path:e})})})},this.delay)}return r(e,[{key:"fetchLatestCorePath",value:function(e){var t=this;if("development"===a.default.env)return void e.call(this,a.default.cdnUrl+"/app/index.js");var n=this.getCache("core",6e4);if(n)return void e.call(this,n);var o=a.default.thor+'/appconf/getAppConfig/1.0?context={"appid":"evoke.h5","platform":"h5"}&param=[{"t":"0","v":"0"}]';this.jsonp(o,function(n){try{var o=n.result.core;t.setCache("core",o),e.call(t,o)}catch(e){console.error("获取poseidon-sdk版本信息失败",e)}})}},{key:"loadCoreScript",value:function(e,t){var n=this,o=document.createElement("script");o.src=e,o.onload=function(){t.call(n)},document.body.appendChild(o)}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.listener.push({event:e,handler:t,once:n})}},{key:"off",value:function(e,t){var n=this.listener.filter(function(n){return!(n.event===e&&n.handler===t)});this.listener=n}},{key:"emit",value:function(e,t){var n=this;this.listener.forEach(function(o){o.event===e&&(o.handler.call(n,t),o.once&&n.off(o.event,o.handler))})}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"ready",value:function(e){this.once("ready",e)}},{key:"isPositiveInteger",value:function(e){return/^\d+$/.test(e)}},{key:"getCache",value:function(e,t){e+="@poseidonSDK";try{var n=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null;return!!n&&(!(n.timestamp+t<(new Date).getTime())&&n.value)}catch(e){return!1}}},{key:"setCache",value:function(e,t){e+="@poseidonSDK";try{return localStorage.setItem(e,JSON.stringify({timestamp:(new Date).getTime(),value:t}))}catch(e){return!1}}},{key:"jsonp",value:function(e,t){var n=this,o="jsonp_"+Math.random().toString().substr(2),r=document.createElement("script");r.src=-1===e.indexOf("?")?e+"?callback="+o:e+"&callback="+o,window[o]=function(e){try{"function"==typeof t&&t.call(n,e)}finally{delete window[o],r.remove()}},document.body.appendChild(r)}},{key:"debug",value:function(e){-1!==location.href.toLocaleLowerCase().indexOf("debug")&&console.warn("[posidon sdk]",e)}}]),e}();window.Poseidon=window.Poseidon||u}});