var pecker=function(e){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function t(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(){}function f(e){return null==e}function a(e){return null==e||""===e}function i(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function u(e){return i("Number")(e)}function s(e){return i("String")(e)}function c(e){return i("Error")(e)}function d(e){return i("Array")(e)}function p(e){return"function"==typeof e}function l(e){return i("Date")(e)}function h(e){return i("Object")(e)}function v(e){return null!==e&&"object"==typeof e}function m(e){return"undefined"!=typeof FormData&&e instanceof FormData}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){if(d(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else if(h(e))for(var o in e)y(e,o)&&t.call(null,e[o],o,e)}function w(e){for(var n,r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return r=i("Boolean")(e)?(n=e,t.shift()):e,b(t,function(e){b(e,function(e,t){n&&(d(e)||h(e))?(d(e)?d(r[t])||(r[t]=[]):h(r[t])||(r[t]={}),w(n,r[t],e)):r[t]=e})}),r}function n(n,r){var o;return void 0===r&&(r=200),function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(e,E(t))},r)}}function E(e){return Array.prototype.slice.call(e)}var _,j="visitorid",S="sessionid";function O(e,t){if(e===t)return 1;if(e instanceof Object&&t instanceof Object&&e.constructor===t.constructor){var n;for(n in e)if(y(e,n)){if(!y(t,n))return;if(e[n]!==t[n]){if("object"!=typeof e[n])return;if(!O(e[n],t[n]))return}}for(n in t)if(y(t,n)&&!y(e,n))return;return 1}}var k=((_={}).rejected="reject",_.resolved="resolve",_),C=(A.prototype.push=function(e){var t;this.options.stateful&&"pending"!==this.status?p(t=e[k[this.status]])&&t.apply(void 0,this.args):-1===this.queue.indexOf(e)&&this.queue.push(e)},A.prototype.resolve=function(){this.execute("resolved",E(arguments))},A.prototype.reject=function(){this.execute("rejected",E(arguments))},A.prototype.execute=function(n,r){this.queue.forEach(function(e){var t=e[k[n]];p(t)&&t.apply(void 0,r)}),this.options.stateful&&(this.status=n,this.args=r,this.queue.length=0)},A);function A(e){void 0===e&&(e={stateful:!0}),this.queue=[],this.status="pending",this.args=[],this.options=e}function x(t){try{return JSON.parse(t)}catch(e){return t}}function D(e){try{return v(e)&&(t=e,!Object.keys(t).length)?"":JSON.stringify(e)}catch(e){return""}var t}var q=(L.prototype.push=function(e,t){var n=this.hooks[e]||(this.hooks[e]=[]);return"function"==typeof t&&n.push(t),this},L.prototype.invoke=function(e,t){var n=this.hooks[e];return n&&n.length&&n.forEach(function(e){e(t)}),this},L.prototype.invokeWaterfall=function(e,n,r){var o=this.hooks[e];if(!o||!o.length)return r(),this;var i=0;return o[i](n,function e(t){return t instanceof Error?r(t):++i>=o.length?r():void o[i](n,e)}),this},L);function L(){this.hooks=Object.create(null)}var P,T,R=(P=function(e){for(var t,n,r,o,i,a,u,s,c=function(e,t){return e<<t|e>>>32-t},f=function(e){for(var t="",n=7;0<=n;n--)t+=(e>>>4*n&15).toString(16);return t},d=new Array(80),p=1732584193,l=4023233417,h=2562383102,v=271733878,m=3285377520,g=(e=unescape(encodeURIComponent(e))).length,y=[],b=0;b<g-3;b+=4)n=e.charCodeAt(b)<<24|e.charCodeAt(b+1)<<16|e.charCodeAt(b+2)<<8|e.charCodeAt(b+3),y.push(n);switch(g%4){case 0:b=2147483648;break;case 1:b=e.charCodeAt(g-1)<<24|8388608;break;case 2:b=e.charCodeAt(g-2)<<24|e.charCodeAt(g-1)<<16|32768;break;case 3:b=e.charCodeAt(g-3)<<24|e.charCodeAt(g-2)<<16|e.charCodeAt(g-1)<<8|128}for(y.push(b);y.length%16!=14;)y.push(0);for(y.push(g>>>29),y.push(g<<3&4294967295),t=0;t<y.length;t+=16){for(b=0;b<16;b++)d[b]=y[t+b];for(b=16;b<=79;b++)d[b]=c(d[b-3]^d[b-8]^d[b-14]^d[b-16],1);for(r=p,o=l,i=h,a=v,u=m,b=0;b<=19;b++)s=c(r,5)+(o&i|~o&a)+u+d[b]+1518500249&4294967295,u=a,a=i,i=c(o,30),o=r,r=s;for(b=20;b<=39;b++)s=c(r,5)+(o^i^a)+u+d[b]+1859775393&4294967295,u=a,a=i,i=c(o,30),o=r,r=s;for(b=40;b<=59;b++)s=c(r,5)+(o&i|o&a|i&a)+u+d[b]+2400959708&4294967295,u=a,a=i,i=c(o,30),o=r,r=s;for(b=60;b<=79;b++)s=c(r,5)+(o^i^a)+u+d[b]+3395469782&4294967295,u=a,a=i,i=c(o,30),o=r,r=s;p=p+r&4294967295,l=l+o&4294967295,h=h+i&4294967295,v=v+a&4294967295,m=m+u&4294967295}return(s=f(p)+f(l)+f(h)+f(v)+f(m)).toLowerCase()},T=Object.create(null),function(e){return T[e]||(T[e]=P(e))});function I(e,t){return void 0===t&&(t=32),R(e).slice(0,t)}var B=Object.create(null);function U(e,t){return y(B,e)?{cached:!0,value:B[e]}:(B[e]=!!f(t)||(p(t)?t():t),{cached:!1,value:B[e]})}var J=(N.prototype.use=function(e){return p(e)&&-1===this.plugins.indexOf(e)&&(e.call(this),this.plugins.push(e)),this},N);function N(){this.hooks=new q,this.plugins=[]}var M,W=(t(K,M=function(){}),K.prototype.get=function(){return this.data},K);function K(e){var t=M.call(this)||this;return t.data=e,t}var H=(V.prototype.combine=function(){return{name:this.meta.get(),value:this.data}},V);function V(e,t){this.date=new Date,this.data=Object.freeze(t),this.meta=e}function F(){}var $=(z.prototype.combine=function(e){void 0===e&&(e=[]);var u=[],s=[];return e.forEach(function(e){var n,r,t=e.combine(),o=t.name,i=t.value,a=(n=o,r=-1,u.some(function(e,t){return!!O(e,n)&&(r=t,!0)}),r);if(-1===a)return u.push(o),void(s[u.length-1]=[i]);s[a].push(i)}),{names:u,values:s}},z);function z(){}var G=window,X="; ",Q="=",Z=new RegExp("([^"+Q+"]+)"+Q+"(.*)"),Y=G.decodeURIComponent,ee=G.encodeURIComponent,te=G.escape;function ne(e){return e.replace(/(%[0-9A-Z]{2})+/g,Y)}var re={get:{name:ne,value:ne},set:{name:function(e){return ee(e).replace(/%(23|24|26|2B|5E|60|7C)/g,Y).replace(/[\(\)]/g,te)},value:function(e){return ee(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,Y)}}};function oe(n){var r;if(!a(n))return G.document.cookie.split(X).some(function(e){var t=e.match(Z);return!(!t||re.get.name(t[1])!==n)&&(r=re.get.value(t[2]),!0)}),r}function ie(e,t,n){var r,o;a(e)||f(t)||((r=w({path:"/"},n)).expires=function(e){if(u(e)&&(e=new Date((new Date).getTime()+1e3*e)),l(e))return e.toUTCString()}(r.expires),o="",b(r,function(e,t){e&&(o+=X+t,!0!==e&&(e=e.split(";")[0],o+=Q+e))}),e=re.set.name(e),t=re.set.value(t),G.document.cookie=e+Q+t+o)}var ae=window,ue=document,se=!!navigator.sendBeacon,ce="data-spider",fe="__spider__",de=fe+S,pe=fe+j,le="__kernel__",he=le+S,ve=le+j,me=le+"logs",ge=["url","src","filename"],ye=/AppleWebKit.*Mobile.*/i,be=/WDAPP\(WDBuyer/i,we=/WDAPP\(WD\//i,Ee=navigator.userAgent.toLowerCase();var _e=h(ae.kernel)?ae.kernel:{};var je=["dev","daily","pre"],Se=new RegExp("\\.("+je.join("|")+")\\.");function Oe(){var e=function(e){if(s(e))return _e[e]}("environment");if(!f(e))return e;var t=location.hostname.match(Se);if(t&&t[1]){var n=je.indexOf(t[1]);return-1!==n?n:3}return 3}var ke="?",Ce="&",Ae="=",xe=window,De=/^[^\?#]*\?([^#]*)/;function qe(e){return encodeURIComponent(e)}function Le(e){return decodeURIComponent(e.replace(/\+/g," "))}function Pe(e){var t,n,r=(e=(t=e)&&(n=t.match(De))&&n[1]||"").split(Ce),o={};return r.forEach(function(e){var t,n,r;e&&(n=(t=e.split(Ae))[0],r=t.slice(1).join(Ae)||"",n&&(n=Le(n),r=Le(r),y(o,n)?(d(o[n])||(o[n]=[o[n]]),o[n].push(r)):o[n]=r))}),o}function Te(e){if(!h(e))return"";var n=[];return b(e,function(e,t){f(e)||(d(e)||(e=[e]),t=qe(t),e.forEach(function(e){n.push(""+t+Ae+qe(e))}))}),n.join(Ce)}var Re="query",Ie=["hash","host","hostname","pathname","port","protocol"],Be=["href","search"],Ue=["origin"],Je=Object.defineProperty;function Ne(e,t){return e===Re?h(t):s(t)||u(t)}function Me(e){var t=Te(e);return(t?ke:"")+t}function We(e,n){Ie.forEach(function(t){Je(e,t,{get:function(){return n[t]},set:function(e){Ne(t,e)&&(n[t]=e)},enumerable:!0})})}function Ke(e,n){Be.forEach(function(t){Je(e,t,{get:function(){return n.search=Me(n[Re]),n[t]},set:function(e){Ne(t,e)&&(n[t]=e,n[Re]=Pe(n.search))},enumerable:!0})})}function He(t,n){Ue.forEach(function(e){Je(t,e,{get:function(){return n[e]},enumerable:!0})})}var Ve=(Fe.prototype.toString=function(){return this.href},Fe);function Fe(e){a(e)&&(e=xe.location.href);var t,n,r,o=this._element=xe.document.createElement("A");o.href=e,We(this,this._element),Ke(this,this._element),n=(t=this)._element,Je(t,r=Re,{get:function(){return t.search=Me(n[r]),n[r]},set:function(e){Ne(r,e)&&(n[r]=e)},enumerable:!0}),He(this,this._element),this.href=o.href}var $e="https://assets.geilicdn.com/v-components/jsbridge/1.0.1/index.min.js";function ze(){return new Promise(function(e,t){if(ae.KDJSBridge2)return e(ae.KDJSBridge2);var u;u=$e,new Promise(function(e,t){var n,r,o,i,a;s(u)?(n=U("LOAD_SCRIPT_"+u,function(){return new C}),r=n.value,o=n.cached,r.push({resolve:e,reject:t}),o||(i=ue.head,(a=ue.createElement("script")).addEventListener("load",function(){return r.resolve()}),a.addEventListener("error",function(){return r.reject()}),a.crossOrigin="anonymous",a.src=u,i.appendChild(a))):t()}).then(function(){return ae.KDJSBridge2?e(ae.KDJSBridge2):void t()}).catch(t)})}var Ge=window,Xe=document;function Qe(e){return 200<=e&&e<300||304==e}var Ze=(Ye.prototype.push=function(e,t){var n=this.hooks[e]||(this.hooks[e]=[]);return"function"==typeof t&&n.push(t),this},Ye.prototype.invokeWaterfall=function(e,n,r){var o=this.hooks[e];if(!o||!o.length)return r(),this;var i=0;return o[i](n,function e(t){return c(t)?r(t):++i>=o.length?r():void o[i](n,e)}),this},Ye);function Ye(){this.hooks={}}var et="#",tt="?",nt="&";function rt(e){return encodeURIComponent(e).replace(/%20/g,"+")}function ot(e){if(g(e))return e.toString();var n,t=e;return(h(e)||d(e))&&(n=[],b(e,function(e,t){f(e)||(d(e)?t+="[]":e=[e],b(e,function(e){l(e)?e=e.toISOString():v(e)&&(e=JSON.stringify(e)),n.push(rt(t)+"="+rt(e))}))}),t=n.join(nt)),t}function it(e,t){if(!s(e))return"";var n=e.split(et);e=n[0];var r=ot(t);return s(r)&&r&&(e+=(-1===e.indexOf(tt)?tt:nt)+r),n[0]=e,n.join(et)}var at="GET",ut="json";function st(e,t,n){n=n||o,p(e)?e(t,function(){n(t)}):n(t)}function ct(t,n){var e,r,o=n.responseType,i=n.url,a=n.success,u=n.error;if(4===t.readyState){var s=(e=t.status,r={url:i}.url,0===e&&0===r.indexOf("file:")?200:{1223:204}[e]||e),c=void 0;if(Qe(s)){try{c=function(e,t){var n=t.responseType,r=t.status,o=e.response;if(n===ut&&e.responseType!==ut&&!h(o))try{o=JSON.parse(e.responseText)}catch(e){throw e}return{data:o,status:r}}(t,{responseType:o,status:s})}catch(e){return st(n.beforeError,{request:t,response:c,options:n,error:e},u),0}st(n.beforeSuccess,{request:t,response:c,options:n},a)}else st(n.beforeError,{request:t,response:c,options:n,error:new Error("Network Error")},u)}}function ft(e){(e=w({method:at,responseType:ut,withCredentials:!0,cache:!0},e)).method=e.method||at;var t=new XMLHttpRequest;function c(e){var t=e.request,n=e.options;t.send(n.method===at?null:ot(n.data))}st(e.configured,{request:t,options:e},function(e){var t,n,r,o,i,a,u=e.request,s=e.options;s.method=s.method.toUpperCase(),u.open(s.method,(t=s.url,r=(n=s).method,o=n.cache,i=n.data,r===at&&(t=it(t,i),o||(t=it(t,{_:Date.now()}))),t),!0),u.onreadystatechange=function(){ct(u,s)},a=u,s.withCredentials&&(a.withCredentials=!0),function(e,t){var n=t.responseType;if(n)try{e.responseType=n}catch(e){}}(u,s),function(e,t){var n=t.headers,r=t.method,o=t.data;if(h(n))for(var i in n)if(n.hasOwnProperty(i)&&!f(n[i])){if("content-type"===i.toLowerCase()&&(r===at||m(o)))continue;e.setRequestHeader(i,n[i])}}(u,s),st(s.beforeRequest,{request:u,options:s},c)})}var dt=["configured","beforeRequest","beforeSuccess","beforeError"];var pt=(lt.prototype.request=function(e,t){var n=this,i=w(!0,{},this.options,t||{},{url:e,extra:{}});return new Promise(function(e,t){var r,o;s(i.url)&&i.url?(r=i,o=n,b(dt,function(n){r[n]=function(e,t){o.hooks.invokeWaterfall(n,e,t)}}),i.success=e,i.error=t,ft(i)):t(new Error("Url Error"))})},lt.prototype.use=function(e){return-1<this._installedPlugins.indexOf(e)||!p(e)||(e.call(this),this._installedPlugins.push(e)),this},lt);function lt(e){this.options=e||{},this.hooks=new Ze,this._installedPlugins=[]}function ht(e){var t=e.response,n=e.options,r=t.data;return"json"!==n.responseType||v(r)?r:Promise.reject(new Error("JSON Data Error"))}function vt(){var e=this;e.hooks.push("beforeRequest",function(e,t){var n,r=e.options;h(n=r.data)&&b(n,function(e,t){(h(e)||d(e))&&(n[t]=JSON.stringify(e))}),t()});var t=e.request;e.request=function(){return t.apply(e,arguments).then(ht,function(e){var t=c(e)?e:e.error;return Promise.reject(t)})}}var mt={},gt=!1,yt=!1,bt=[];function wt(){var e,t,n;function r(){var t;2===++e&&(gt=!0,t=mt,b(bt,function(e){e(t)}),bt.length=0)}yt||(yt=!0,e=0,t=function(e){e&&(mt.suid=e),r()},f(Ge.KDJSBridge2)?t():Ge.KDJSBridge2.call("WDJSBridge","getSuid",{},function(e){e&&e.param&&e.param.suid?t(e.param.suid):t()}),n=function(e){e&&(mt.cuid=e),r()},f(Ge.KDJSBridge2)?n():Ge.KDJSBridge2.call("WDJSBridge","getCuid",{},function(e){e&&e.param&&e.param.cuid?n(e.param.cuid):n()}))}function Et(e){var t;wt(),gt?e(mt):(t=e,bt.push(t))}var _t="wdtoken";function jt(e){return e&&e.status&&0===e.status.code?e:Promise.reject(e)}function St(){return Promise.reject({status:{code:-1},result:null})}var Ot=1,kt=1500;function Ct(){if(ye.test(Ee)){var e=document.querySelectorAll('meta[name="viewport"]'),t=e[e.length-1];if(t){var n=t.getAttribute("content"),r=n&&n.match(/initial\-scale=([\d\.]+)/);return r?1/Number(r[1]):Ot}}return Ot}var At=20,xt="redirect",Dt=1e3;function qt(e){var t,n,r,o,i,a;if(h(e)){var u=h(e.status)?e.status:{},s=h(e.result)?e.result:{},c=s.authPageUrl;if(u.code==At&&c)return c=function(e,t,n){var r=xe.location.href;h(e)&&(n=t,t=e,e=r),f(e)&&(e=r),n=w({replace:!0},n);var o,i,a=new Ve(e);return n.replace?a.query=w(a.query||{},t):(o=Te(t))&&(i=-1===a.search.indexOf(ke)?ke:Ce,a.search+=i+o),a.toString()}(c,((t={})[xt]=Ge.location.href,t)),s.message&&(n=s.message,o=Ct(),i='<div class="hawk-toast">'+n+'</div><style type="text/css">.hawk-toast{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:10000;width:50%;color:#fff;background:rgba(33,33,33,0.9);line-height:1.5;border-radius:'+8*o+"px;max-width:"+300*o+"px;padding:"+20*o+"px;font-size:"+16*o+"px;}</style>",(a=Xe.body)&&((r=Xe.createElement("div")).innerHTML=i,a.appendChild(r),setTimeout(function(){a.removeChild(r)},kt))),void setTimeout(function(){var e;(e=c)&&Ge.location.assign(e)},Dt)}return 1}var Lt=Ge.XMLHttpRequest,Pt=Lt&&Lt.prototype,Tt=Pt&&Pt.send;function Rt(e,t,n){try{if(4==t.readyState&&Qe(t.status)){var r=h(t.response)?t.response:function(e){try{return JSON.parse(e)}catch(e){}}(t.responseText);return e.beforeSuccess(r,n)}}catch(e){}n()}var It=Ge.Element,Bt=It&&It.prototype,Ut="SCRIPT",Jt="callback",Nt=["appendChild","insertBefore"];function Mt(a){b(Nt,function(e){var i=Bt&&Bt[e];i&&(Bt[e]=function(e){var t,n,r,o;return e&&e.tagName===Ut&&e.src&&(f(o=e.src)&&(o=xe.location.href),!s(t=Pe(o)[Jt])||(n=function(e){var t=e.split("."),n=t.length;if(n){var r,o=Ge,i=Ge;try{for(var a=0;a<n;a++){if(!i)return;r=t[a],i=(o=i)[r]}if(!p(i))return}catch(e){return}return{namespace:o,name:r,definition:i}}}(t))&&(r=n.definition,n.namespace[n.name]=function(e){var t=arguments;!function(e,t,n){try{return e.beforeSuccess(t,n)}catch(e){}n()}(a,e,function(){r.apply(n.namespace,t)})})),i.apply(this,E(arguments))})})}var Wt=Ge.fetch;function Kt(n){var e;"function"==typeof(e=Wt)&&-1!==e.toString().indexOf("[native code]")&&(Ge.fetch=function(){var e=arguments;return Wt.apply(this,e).then(function(t){return new Promise(function(e){!function(t,e,n){try{if(Qe(e.status))return e.clone().json().then(function(e){t.beforeSuccess(e,n)}).catch(function(){n()})}catch(e){}n()}(n,t,function(){e(t)})})})})}function Ht(e){var i;h(e)&&p(e.beforeSuccess)&&(i=e,p(Tt)&&(Pt.send=function(){var e=arguments,t=this,n=t.onreadystatechange,r=t.onload,o=!1;return n&&(o=!0,t.onreadystatechange=function(){var e=arguments;Rt(i,t,function(){n.apply(t,e)})}),r&&!o&&(t.onload=function(){var e=arguments;Rt(i,t,function(){r.apply(t,e)})}),Tt.apply(t,e)}),Mt(e),Kt(e))}Ge.hawk=Ge.hawk||{disabled:!1};var Vt={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json, */*"};function Ft(e){e=w(!0,{},{headers:Vt,cache:!1},e);var t=new pt(e);return t.use(vt),t}var $t=Ft();$t.use(function(){Ge.hawk.disabled||(Ht({beforeSuccess:function(e,t){qt(e)&&t()}}),Ge.hawk.disabled=!0)}),$t.use(function(){var e=this;e.hooks.push("configured",function(e,t){var n,r,o=e.options;o.responseType="json",o.data=o.data||{},function(e){var t=oe(_t);if(t){if(h(e))return e[_t]=t;if(m(e))return e.append(_t,t);if(g(e))e.set(_t,t)}}(o.data),o.extra.deviceId?(n=o.data,r=function(){t()},Et(function(e){h(n)&&(n.context=w(n.context||{},e)),r()})):t()});var t=e.request;e.request=function(){return t.apply(e,arguments).then(jt,St)}});var zt=Ft();function Gt(e,t){return!!se&&navigator.sendBeacon(e,(n=t.data,r=new FormData,n&&b(n,function(e,t){r.append(t,h(e)||d(e)?D(e):e)}),r));var n,r}var Xt=/complete|interactive|loaded/;function Qt(e){Xt.test(ue.readyState)?e():ue.addEventListener("DOMContentLoaded",e,!0)}var Zt=window,Yt=document,en=Yt.createElement("a"),tn=/complete|loaded|interactive/,nn=[".weidian.com",".koudai.com",".vdian.com",".geilicdn.com",".fangxin.com",".ruyu.com",".vdian.net",".91ruyu.com",".bibikan.cn",".youshop01.com",".youshop02.com",".youshop03.com",".youshop04.com",".youshop05.com",".youshop06.com",".youshop07.com",".youshop08.com",".youshop09.com",".youshop10.com",".kou6ai.cn"],rn=/^(javascript|data):/i,on=(new RegExp("["+Object.keys({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;","`":"&#96;"}).join("")+"]","g"),["url","src","filename"]),an="__safetyCache",un=String.fromCharCode;var sn={};function cn(e){if(s(e))return sn[e];w(sn,e)}var fn=pn(nn);function dn(e){return e="."!==e[0]?"^"+e:"(^|.)"+e.substr(1),e=(e+="$").replace(/\./g,"\\.")}function pn(e){var t=e.map(dn).join("|");return new RegExp("("+t+")")}function ln(e,t){return t&&t.whiteDomains.length?pn(function(e){var t=w({append:!0},e||{}),n=t.whiteDomains||[];{if(t.append){var r=nn;return n.forEach(function(e){r.push(e)}),r}return n}}(t)).test(e):fn.test(e)}function hn(e,t){if(a(e))return!1;e=e.replace(/&#x([\dabcdef]+);?/gi,function(e,t){return un(parseInt(t,16))}).replace(/&#(\d+);?/g,function(e,t){return un(parseInt(t,10))}).trim();var n,r,o=(n=e,en.href=n,en);return r=o.protocol,!rn.test(r)&&ln(o.hostname,t)}function vn(e){var t,n,r,o,i,a=function(e){switch(e.nodeName){case"AUDIO":case"VIDEO":return e.src||e.currentSrc;case"OBJECT":return e.data;case"A":return e.href;case"PARAM":if(-1!==on.indexOf(e.name))return e.value}return e.src}(e);!a||(n=a,(t=e)[an]&&t[an][n])||(hn(a)?(i=a,(o=e)[an]=o[an]||{},o[an][i]=!0):(r=e).parentNode&&r.parentNode.removeChild(r))}var mn,gn={A:vn,IMG:vn,IFRAME:vn,AUDIO:vn,VIDEO:vn,EMBED:vn,OBJECT:vn,PARAM:vn,SOURCE:vn},yn=Object.keys(gn).join(","),bn={SCRIPT:vn};Object.keys(bn).join(","),n(function(){Yt.querySelectorAll(yn).forEach(function(e){gn[e.nodeName](e)})});mn=function(){var e;cn("observeIframe")&&(e=Zt.document.referrer||"",Zt.self==Zt.top||hn(e)||(Zt.top.location.href=Zt.location.href))},tn.test(Yt.readyState)&&Yt.body?mn():Zt.addEventListener("DOMContentLoaded",mn),cn({observeIframe:!0});var wn,En,_n=ae.history,jn=_n.pushState,Sn=_n.replaceState,On=ae.history.pushState?"popstate":"hashchange",kn=new C({stateful:!1});function Cn(e){var t=xn();t!==wn&&(kn.resolve(e,{oldUrl:wn,newUrl:t}),wn=t)}function An(){var e=ue.destination;return e&&hn(e)}function xn(){return ue.URL}function Dn(e){return-1!==e.indexOf(le)?function(e){if(void 0===e&&(e=""),ae.opener)try{ae.opener.name=e}catch(e){}ae.name=e}():e="",e}wn=xn(),ae.addEventListener(On,Cn),_n.pushState=function(){var e=jn.apply(_n,arguments);return Cn(),e},_n.replaceState=function(){var e=Sn.apply(_n,arguments);return Cn(),e},kn.push({resolve:function(e,t){var n=t.oldUrl;En=n}});var qn,Ln,Pn=(h(qn=x(Dn(function(){var e="";if(ae.opener)try{e=ae.opener.name}catch(e){}return e=e||ae.name}())))||(qn={}),ae.addEventListener("unload",function(){An()&&(ae.name=D(qn))},!0),{get:function(e){return qn[e]},set:function(e,t){qn[e]=t},remove:function(e){e?delete qn[e]:qn={}}});function Tn(e){return Pn.get(e)}function Rn(e,t){Pn.set(e,t)}function In(e){return I([navigator.userAgent,document.cookie,location.href,Math.random(),e].join(),16)}function Bn(e){return(e||location.hostname).split(":")[0].split(".").slice(-2).join(".")}function Un(){return be.test(Ee)||we.test(Ee)}function Jn(e){return e.split("#")[0].split("?")[0]}var Nn,Mn=1800;function Wn(){return Tn(he)||oe(de)||In()}function Kn(){if(Ln)return Ln;var e,t=Wn();return ie(de,Ln=e=t,{domain:Bn(),expires:Mn}),Rn(he,e),t}var Hn=63072e3;function Vn(t){function e(e){t(e||In())}var n,r=Tn(ve);if(r)return t(r);if(r=oe(pe),Un()){if((n=r)&&16<n.length)return t(r);new Promise(function(t,n){ze().then(function(e){e.call("WDJSBridge","getCuid",{},function(e){return e&&e.param&&e.param.cuid?t(e.param.cuid):void n()})}).catch(n)}).then(t,function(){e(r)})}else e(r)}function Fn(n){if(Nn)return n(Nn);Vn(function(e){var t;ie(pe,Nn=t=e,{domain:Bn(),expires:Hn}),Rn(ve,t),n(e)})}var $n={spm:"",value:""};var zn,Gn="data-spider-prior";function Xn(t){Qt(function(){var e;t((e=ue.body).getAttribute(ce)||e.getAttribute(Gn))})}function Qn(n){Qt(function(){var e,t;n((e=ue.head,(t=e.querySelector('meta[name="'+ce+'"]')||e.querySelector('meta[name="'+Gn+'"]'))&&t.getAttribute("content")))})}function Zn(i){Fn(function(o){Qn(function(r){Xn(function(e){return a(r)||a(e)?i():void i({document_ref:En||ue.referrer,document_url:xn(),spma:r,spmb:e,visit_id:(n=(t={spma:r,spmb:e}).spma+t.spmb,$n.spm===n?$n.value:($n.spm=n,$n.value=In(n))),buyer_id:oe("duid")||oe("uid")||oe("WD_b_id")||null,seller_id:oe("sid")||oe("WD_s_id")||null,session_id:Kn(),visitor_id:o});var t,n})})})}function Yn(r){Zn(function(e){if(!e)return r();var t,n=zn;n&&O(n.get(),e)?r(n):(t=new W(e),r(zn=t))})}var er,tr=(t(nr,er=J),nr.prototype.send=function(t){var n=this;Yn(function(e){e&&n.options.report.push(new n.options.Record(e,t))})},nr);function nr(e){var t=er.call(this)||this;return t.options=e,t}var rr,or=(t(ir,rr=H),ir);function ir(e,t){var n=Date.now();return t=w({report_time:n,uuid:I(D(t)+n)},t),rr.call(this,e,t)||this}var ar,ur={delay:300},sr=(t(cr,ar=F),cr.prototype.push=function(e){var t=this;-1===this.records.indexOf(e)&&this.records.push(e),this.pageLoaded&&n(function(){return t.send()},this.options.delay)()},cr.prototype.addEventListener=function(){var e=this;setTimeout(function(){e.options.send.sendAfterEnter(),e.send(),e.pageLoaded=!0},1500),ae.addEventListener("beforeunload",function(){return e.sendBeforeLeave()},!0)},cr.prototype.sendBeforeLeave=function(){this.records.length&&(this.options.send.sendBeforeLeave({records:this.records.slice()}),this.records.length=0)},cr.prototype.send=function(){var t=this;this.records.length&&(this.options.send.send({records:this.records.slice()}).catch(function(e){t.records=t.records.concat(e)}),this.records.length=0)},cr);function cr(e){var t=ar.call(this)||this;return t.records=[],t.pageLoaded=!1,t.options=w({},ur,e),t.addEventListener(),t}function fr(){return(Tn(me)||[]).slice()}function dr(){fr().forEach(function(r){pr(r).then(function(){var e,t,n;Rn(me,(e=fr(),t=r,void(-1!==(n=e.indexOf(t))&&e.splice(n,1))))})})}function pr(e){return t=e.url,n=w({method:"post"},n=e),zt.request(t,n);var t,n}function lr(r){return new Promise(function(e){var t,n;Gt(r.url,r)||(An()?(t={url:r.url,data:r.data},-1===(n=fr()).indexOf(t)&&(n.push(t),Rn(me,n))):pr(r).catch(function(){})),e()})}var hr,vr=(t(mr,hr=$),mr.prototype.sendAfterEnter=function(){return Promise.resolve(dr())},mr.prototype.send=function(i){var o=this,a=this.combine(i.records),u=[];function s(e){e.forEach(function(e){var t,n,r,o=(t=i.records,n=e,r=null,t.some(function(e){return!!O(e.combine().value,n)&&(r=e,!0)}),r);o&&u.push(o)})}var e=a.values.map(function(e,t){return n=e,r=a.names[t],pr({url:o.options.url,data:{log:{meta:r,data:n}}}).catch(function(){return s(n)});var n,r});return Promise.all(e).then(function(){if(u.length)return Promise.reject(u)})},mr.prototype.sendBeforeLeave=function(e){var o=this,i=this.combine(e.records),t=i.values.map(function(e,t){return n=e,r=i.names[t],lr({url:o.options.url,data:{log:{meta:r,data:n}}});var n,r});return Promise.all(t)},mr);function mr(e){var t=hr.call(this)||this;return t.options=e,t}var gr="x-trace-id";function yr(){return"https://logtake."+(Oe()<3?je[1]+".":"")+"weidian.com/h5collector/webcollect/3.0?type=bat"}function br(e){return new Ve(e).hostname===function(){switch(Oe()){case 0:case 1:return"thor.daily.weidian.com";case 2:return"thor.pre.weidian.com"}return"thor.weidian.com"}()}function wr(e){return s(e)?e.trim():e}var Er,_r=(t(jr,Er=or),jr);function jr(e,t){var n,r;return t.type="log",h(r=(n=t).detail||{})&&(r.startTime=performance.now(),b(r,function(e,t){v(e)&&(r[t]=D(e))}),n.detail=r),Er.call(this,e,t)||this}var Sr,Or=(t(kr,Sr=tr),kr);function kr(){return Sr.call(this,{report:new sr({send:new vr({url:yr()})}),Record:_r})||this}function Cr(e){return(v(e)?D:wr)(e)}function Ar(n){ae.addEventListener("unhandledrejection",function(e){var t;n.send((c(t=e.reason)||(t={message:Cr(t)}),{subtype:"scripts",name:"unhandled_rejection",url:xn(),message:f(t.message)?"Promise unhandledrejection error":t.message,detail:{stack:t.stack}}))},!1)}function xr(n){ae.addEventListener("rejectionhandled",function(e){var t;n.send((c(t=e.reason)||(t={message:Cr(t)}),{subtype:"scripts",name:"rejection_handled",url:xn(),message:f(t.message)?"Promise rejectionhandled error":t.message,detail:{stack:t.stack}}))},!1)}function Dr(){var e=E(ue.querySelectorAll("script")),r=[];return e.forEach(function(e){var t,n=e.src;!n||(t=new Ve(n)).host===location.host&&t.protocol===location.protocol||null!==e.getAttribute("crossorigin")||r.push(n)}),r}function qr(c){ae.addEventListener("error",function(e){var t,n,r,o,i,a,u,s=(n=(t=e).lineno,r=t.colno,o=t.error,i=t.filename,a=o&&o.stack,u=wr(t.message),f(a)?{subtype:"scripts",name:"script_cross_origin",url:i||xn(),message:u,detail:{urls:Dr()}}:{subtype:"scripts",name:"error",url:i,message:u,detail:{lineno:n,colno:r,stack:a}});s&&c.send(s)},!1)}var Lr=/(?:^|[-_])(\w)/g,Pr=function(e){return e.replace(Lr,function(e){return e.toUpperCase()}).replace(/[-_]/g,"")};function Tr(e,t){if(e.$root===e)return"<Root>";var n,r="function"==typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e,o=r.name||r._componentTag,i=r.__file;return!o&&i&&(o=(n=i.match(/([^/\\]+)\.vue$/))&&n[1]),(o?"<"+Pr(o)+">":"<Anonymous>")+(i&&!1!==t?" at "+i:"")}function Rr(e){if(e._isVue&&e.$parent){for(var t=[],n=0;e;){if(0<t.length){var r=t[t.length-1];if(r.constructor===e.constructor){n++,e=e.$parent;continue}0<n&&(t[t.length-1]=[r,n],n=0)}t.push(e),e=e.$parent}return"found in\n"+t.map(function(e,t){return""+(0===t?"---\x3e ":function(e,t){for(var n="";t;)t%2==1&&(n+=e),1<t&&(e+=e),t>>=1;return n}(" ",5+2*t))+(Array.isArray(e)?Tr(e[0])+"... ("+e[1]+" recursive calls)":Tr(e))}).join("\n")}return"(found in "+Tr(e)+")"}function Ir(a){function e(e,t,n){var r,o,i;if(c(e))try{a.send((r=e,o=t,i=n,{subtype:"scripts",name:"vue_error",url:xn(),message:wr(r.message),detail:{info:i,stack:r.stack,trace:o?Rr(o):""}}))}catch(e){}}!function(e){if(ae.Vue)return e();Qt(function(){ae.Vue&&e()})}(function(){3===Oe()&&(ae.Vue.config.errorHandler=e)})}function Br(){var e;qr(this),Ar(e=this),xr(e),Ir(this)}function Ur(e){var t=function(e){switch(e.nodeName){case"AUDIO":case"VIDEO":return e.src||e.currentSrc;case"OBJECT":return e.data;case"PARAM":if(-1!==ge.indexOf(e.name))return e.value;case"LINK":return e.href}return e.src}(e),n=e.nodeName.toLowerCase();if(t&&n)return{subtype:"assets",name:n+"_not_found",url:t,message:Jn(t)+" is not found",detail:{html:function(e){var t=e.outerHTML;if(t){if(!(1<=e.childNodes.length))return t;var n=t.match(/^<[^>]+>/);return n&&n[0]?n[0]+("</"+e.nodeName.toLowerCase())+">":void 0}}(e)}}}function Jr(e){return!e.message&&e.target instanceof Element}function Nr(n){ae.addEventListener("error",function(e){var t;!Jr(e)||(t=Ur(e.target))&&n.send(t)},!0)}function Mr(){Nr(this)}var Wr=XMLHttpRequest.prototype,Kr=Wr.open,Hr=Wr.send,Vr="json",Fr=["error","abort","timeout"];function $r(t){p(Hr)&&p(Kr)&&(Wr.open=function(e,t){return this._request={method:e?e.toUpperCase():"GET",url:t},Kr.apply(this,E(arguments))},Wr.send=function(e){return h(this._request)&&(this._request.data=function(e){if(m(e)){var n={};return e.forEach(function(e,t){n[t]=e}),D(n)}return f(e)?"":e}(e)),t(this),Hr.apply(this,E(arguments))})}function zr(e){var t="";try{-1!==e.getAllResponseHeaders().toLowerCase().indexOf(gr)&&(t=e.getResponseHeader(gr)||"")}catch(e){}return t}function Gr(i,e){var a,t,u,s=i._request;h(s)&&(a=Jn(s.url),t=p(e.resolve)?e.resolve:o,u=p(e.reject)?e.reject:o,Fr.forEach(function(o){return i.addEventListener(o,function(){var e,t,n,r;u(s,{status:i.status,traceId:zr(i),error:(t=(e={type:o,message:a+" trigger "+o+" event"}).message,n=e.type,(r=new Error(t)).type=n,r)})},!1)}),i.addEventListener("load",function(){return t(s,{status:i.status,traceId:zr(i),data:function(e){try{var t=e.response;return e.responseType===Vr||h(t)||(t=x(e.responseText)),t}catch(e){return{}}}(i)})},!1))}function Xr(e){var t;t=e,$r(function(e){return Gr(e,t),0})}function Qr(e){var t=U("REQUEST_INTERCEPT",function(){return new C({stateful:!1})}),n=t.value,r=t.cached;n.push(e),r||Xr({resolve:function(e,t){return n.resolve(e,t)},reject:function(e,t){return n.reject(e,t)}})}var Zr=new Ve(yr()).hostname;function Yr(e,t){var n,r="error",o="",i=t.error;if(n=e.url,new Ve(n).hostname!==Zr)return i&&(r=i.type,o=i.message),{subtype:"requests",name:r,message:o,url:e.url,detail:{status:t.status,method:e.method,traceId:t.traceId,request:{data:e.data}}}}function eo(e,t){var n,r=t.data&&t.data.status&&t.data.status.code,o=e.url;if(n=o,0!==r&&br(n))return{subtype:"requests",name:"non_zero_code",message:Jn(o)+" return error code "+r,url:o,detail:{status:t.status,method:e.method,traceId:t.traceId,code:r,request:{data:e.data},response:{data:t.data}}}}function to(){var r,o;r=this,Qr({resolve:function(e,t){var n=eo(e,t);n&&r.send(n)}}),o=this,Qr({reject:function(e,t){var n=Yr(e,t);n&&o.send(n)}})}var no=new Or;b([Br,Mr,to],function(e){return no.use(e)});var ro=Object.freeze({__proto__:null,use:function(e){no.use(e)},error:function(e){var t;e.message&&(delete(t=w({},e)).message,no.send({subtype:"custom",name:"error",url:xn(),message:e.message,detail:t}))}});return e.bat=ro,e}({});
