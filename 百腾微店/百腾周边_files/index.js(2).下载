!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){if(!window.vcollectRunOnlyOnce)if(window.document&&window.document.body){window.vcollectRunOnlyOnce=!0;for(var r=n(1),i=n(13),o=n(20),a=n(29),s=n(32),c=n(5),u=n(2),l=n(12),d=[l(function(){var e=new r;o.init(e);var t=u._listDisabledAuto();t.indexOf("spider")<0&&o.trackPageview(),e.onSpmChange(function(){t.indexOf("spider")<0&&o.trackPageview()})},function(e){o.reset()}),l(function(){u._listDisabledAuto().indexOf("perf")<0?i.init(new r,{auto:!0}):i.init(new r,{auto:!1})}),l(function(){u._listDisabledAuto();s.init(new r,{auto:!1})}),l(function(){a.init(new r)})],p=0,f=d.length;p<f;p++)d[p]();window.vcollect={ua:c,reportError:s.report,setError:s.setError},window.cat=s,window.spider=o,window.owl=i,window.pathTracker=a}else console.error("请将 vcollect 置于 body 下作为第一个 script")},function(e,t,n){function r(){this._logQueue=[],this._callbackQueue=[],this.delayPostTimer=null,v++,this.init();var e=this;this.onSpmChange(function(){0===y&&(_=""),y++,e.init(),y===v&&(y=0)})}var i,o,s,c=n(2),a=n(7),u=n(5),l=(n(8),n(3)),d=c._console,p={},f="__spider__",h="",m=(i=location.hostname,o="",i.match(/\.(dev|daily|test)\./)?o="daily.":i.match(/\.pre\./)&&(o="pre."),"https://logtake."+o+"weidian.com/h5collector/webcollect/3.0"),g=n(10)(),_="",v=0,y=0;function w(e,t){var n,r;for(n=0;n<e.length;n++)(r=e[n])&&r(t);e.length=0}function S(){return c._generateToken(a()+(navigator.userAgent||""))}function b(e){var t=c._getCookieStoreDomain();c._setCookie(f+"visitorid",e,{domain:t,path:"/","max-age":63072e3})}r.prototype.init=function(e,t){if(0===arguments.length){var n=c._getMetaFromDom();e=n.spma,t=n.spmb}if(e&&t){if(!c._isValidSpmValue(e))throw new Error("spm只允许英文、数字、中划线、下划线组成, "+e+"不合法");if(!c._isValidSpmValue(t))throw new Error("spm只允许英文、数字、中划线、下划线组成, "+t+"不合法");var r=c._getCookie(f+"visitorid"),i=c._getCookie(f+"sessionid");r=r||S(),i=i||c._generateToken(r);var o=c._getCookieStoreDomain();b(r),c._setCookie(f+"sessionid",i,{domain:o,path:"/","max-age":1800}),_=_||c._generateToken(r);var a=c._getCookie("uid")||c._getCookie("WD_b_id")||null,s=c._getCookie("sid")||c._getCookie("WD_s_id")||null;p={document_url:document.URL,document_ref:h||document.referrer||null,visitor_id:r,session_id:i,visit_id:_,buyer_id:a,seller_id:s,spma:e,spmb:t,biz_version:"vcollect94"}}},r.prototype.report=function(n,r,i,o){if("object"==typeof i&&null!==i){var a=this;if(u.isApp&&p.visitor_id.length<32)try{!function(t){function n(){s=S(),t({visitorId:s,noFirst:!0})}s?t({visitorId:s,noFirst:!0}):u.isApp?l().ready(function(){window.KDJSBridge2?window.KDJSBridge2.call("WDJSBridge","getCuid",{},function(e){e&&e.param&&e.param.cuid?(s=e.param.cuid,t({visitorId:s})):n()}):n()}):n()}(function(e){e.noFirst||function(e){var t=e.visitorId;b(p.visitor_id=t)}(e),t()})}catch(e){t(),d.error(e)}else t()}function t(){var e=p,t=c._extendObj({},i,{type:n,subtype:r,uuid:c._generateToken(e.visitorid+e.visitid),report_time:+new Date});a._logQueue.push(t),o&&a._callbackQueue.push(o),200<=a._logQueue.length?a._postData(n):null===a.delayPostTimer&&(a.delayPostTimer=setTimeout(function(){a._postData(n)},100))}},r.prototype._postData=function(e){var t=this._callbackQueue.slice(0);t.length&&setTimeout(function(){w(t,!1)},800),c._post({url:m+"?"+c._queryStringStringify({type:e,spm:[p.spma,p.spmb].join(".")}),data:{log:c._JSONStringifySafty({meta:p,data:this._logQueue})},success:function(e){e&&e.status&&0!==e.status.code?(w(t,!1),d.warn("[vcollect] 上报失败，请检查数据格式是否正确")):w(t,!0)},error:function(){w(t,!1)}}),this._logQueue.length=0,this._callbackQueue.length=0,clearTimeout(this.delayPostTimer),this.delayPostTimer=null},r.prototype.getMeta=function(){return p},r.prototype.getReportUrl=function(){return m},r.prototype.updateDocReferrer=function(){h=location.href},r.prototype.onSpmChange=function(r){g(function(e,t){var n=p.spma;r({spma:n,spmb:e},{spma:n,spmb:t})})},e.exports=r},function(e,t,n){var r,i=n(3),o=n(6),a=(r={},["log","info","warn","error","assert","group","groupCollapsed","groupEnd"].forEach(function(t){try{r[t]=window.console[t].bind(window.console)}catch(e){r[t]=s}}),r);function s(){}var c=function(t){var n="";try{n=window.decodeURIComponent(t)}catch(e){a.warn(t+" 无法被 decodeURIComponent，将尝试 unescape")}if(""===n)try{n=window.unescape(t)}catch(e){a.warn(t+" 无法被 unescape，不进行解码"),n=t}return n};function u(e){var n={};return""!==document.cookie&&document.cookie.split("; ").forEach(function(e){var t=e.split("=");n[c(t[0])]=c(t[1]||"")}),0===arguments.length?n:n[e]||null}function l(e){var t=[],n=["string","boolean","number"];for(var r in e)if(""!==r&&-1<n.indexOf(typeof e[r]))switch(e[r]){case!0:t.push(encodeURIComponent(r));break;case!1:break;default:t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}return 0===t.length?"":t.join("&")}function d(e){var t=document.createElement("a");return t.href=e,t}function p(e){var t=location.hostname;return f(e)===f(t)}function f(e){return e.split(".").slice(-2).join(".")}function h(e){return"object"==typeof e&&null!==e}function m(e){return a.assert("object"==typeof e,"必须是一个object"),null!==e&&0===Object.keys(e).length}function g(e){try{var t=JSON.parse(e);return"object"==typeof t&&null!==t?t:{}}catch(e){return{}}}function _(t){t=t||location.hostname;var n=!1;return["koudai.com","91ruyu.com","bibikan.cn","fangxin.com"].forEach(function(e){!n&&-1<t.indexOf(e)&&(n=!0)}),n}function v(e){return-1<e.indexOf("weidian.com")}e.exports={_console:a,_post:function(t){var n=new window.XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var e=n.responseText;t.success(g(e))}else t.error&&t.error()},n.open("POST",t.url,!0),n.withCredentials=!0,t&&(t.timeout&&(n.timeout=t.timeout),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("Accept","application/json","text/plain, */*")),t.data instanceof FormData||(t.data=l(t.data)),n.send(t.data)},_getCookie:u,_setCookie:function(e,t,n){n=n||{};var r=[];for(var i in r.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),n)r.push(i+"="+n[i]);document.cookie=r.join("; ")},_delCookie:function(e,t){var n=[],r=new Date;if(r.setTime(r.getTime()-1),u(e)){for(var i in n.push(encodeURIComponent(e)+"=a"),t)n.push(i+"="+t[i]);n.push("max-age=0"),document.cookie=n.join("; ")}},_getSearch:function(){return(window.location.search||"?").replace("?","")},_queryStringStringify:l,_queryStringParse:function(e){var n={};return""!==(e=e.replace(/^\?/,""))&&e.split("&").forEach(function(e){var t=e.split("=");t[0]&&(n[c(t[0])]=c(t[1]||""))}),n},_isValidSpmValue:function(e){return null!==String(e).match(/^[a-zA-Z0-9\-\_]+$/)},_getCookieStoreDomain:function(e){return"."+f(e=e||location.hostname)},_get2ndLevelDomain:f,_is3rdPartUrl:function(e){var t=d(e).hostname;return!p(t)&&!_(t)&&!v(t)},_extendObj:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_generateToken:function(e,t){e=e||"",t=t||16;var n=new Date;return o(n.getTime()+Math.random()+e).slice(0,t)},_generateHash:function(e,t){return t=t||16,o(e).slice(0,t)},_sha1:o,_getLocalStorageItemSafty:function(e){try{return localStorage.getItem(e)}catch(e){return a.error("localStorage 不可用"),null}},_setLocalStorageItemSafty:function(e,t){try{localStorage.setItem(e,t)}catch(e){a.error("localStorage 不可用")}},_JSONParseSafty:g,_JSONStringifySafty:function(e){if(!h(e))return"";if(m(e))return"";try{return JSON.stringify(e)}catch(e){return""}},_urlParse:d,_isObjectAndNotNull:h,_isEmptyObject:m,_listCustomPlugin:function(){var e=document.body.dataset.vcollectPlugin;return e?e.split(","):[]},_listDisabledAuto:function(){var e=document.body.dataset.vcollectDisabled,t=[];if(e){var n=e.split(",");if(n&&n.length)for(var r=0,i=n.length;r<i;r++)t.push(n[r].replace(/^\s*/g,"").replace(/\s*/g,""))}return t},_getNetwork:function(t){if("function"!=typeof i)return a.warn("请引入 v-components/sdk-loader，用于获取网络状态!"),t(null);i().ready(function(e){"wx"===e?window.wx&&"function"==typeof window.wx.getNetworkType?window.wx.getNetworkType({success:function(e){t(e.networkType,"wx-success")},fail:function(){t(null,"wx-fail")}}):t(null,"in-wx-no-network"):"app"===e||"kdweidian"===e||"vbuyer"===e?window.KDJSBridge2?window.KDJSBridge2.call("WDJSBridge","getNetworkStatus",{},function(e){e&&e.param&&e.param.network?t({2:"wifi",3:"2g",4:"3g",5:"4g"}[e.param.network],"in-jsbridge-success"):t(null,"in-jsbridge-fail")}):t(null,"in-app-no-jsbridge"):t(null,"not-in-wx-jsbridge")})},_noop:function(){},_hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_forEach:function(e,t){if("object"==typeof e&&e.length)for(var n=0,r=e.length;n<r;n++)t(e[n],n)},_isWDHost:_,_isWDMainHost:v,_isEqualPartUrl:p,_normalizeReportData:function(r){return Object.keys(r).forEach(function(n){""!==r[n]?h(r[n])&&(m(r[n])?r[n]=null:Object.keys(r[n]).forEach(function(e){var t=r[n][e];""!==t&&"object"!=typeof t||(r[n][e]=null)})):r[n]=null}),r},_getMetaFromDom:function(){var e=document.head,t=e.querySelector("meta[name='data-spider']")&&e.querySelector("meta[name='data-spider']").getAttribute("content"),n=e.querySelector("meta[name='data-spider-prior']")&&e.querySelector("meta[name='data-spider-prior']").getAttribute("content"),r=e.querySelector("meta[name='spider-biz-version']")&&e.querySelector("meta[name='spider-biz-version']").getAttribute("content");return{spma:t=n||t,spmb:document.body.getAttribute("data-spider-prior")||document.body.getAttribute("data-spider"),bizVersion:r}},versionCompare:function(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length),o=0;o<i;o++){if(parseInt(n[o])>parseInt(r[o]))return 1;if(parseInt(n[o])<parseInt(r[o]))return-1}return n.length>r.length?1:n.length<r.length?-1:0}}},function(e,t,n){var r;r=function(){n(4);var a=n(5),i="gh_c6feb778444d";function e(){this._init();var e=this;return function(){return e}}return function(){var o="https://assets.geilicdn.com/v-components/jsbridge/1.0.1/index.min.js";this._init=function(){this.isReady=!1,this.callbackList=[],this._env=a.name,this.errorCount=0,this._loadEnv()},this.reset=function(e){return this.isReady=!1,this._mpid=e||i,this.errorCount=0,this._loadEnv(!0),this},this.block=function(){this.isReady=!1,this.callbackList=[]},this.ready=function(e){this.isReady?e(this._env):this.callbackList.push(e)},this.wxApiList=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","hideMenuItems","showMenuItems","chooseImage","getLocalImgData","previewImage","downloadImage","openLocation","getLocation","launch3rdApp","getInstallState","uploadImage","scanQRCode"],this._mpid=i,this._loadEnv=function(e){var t=this,n=t._env,r={wx:"//assets.geilicdn.com/v-components/cdn/jweixin/1.3.2/index.fix.min.js",qq:"//assets.geilicdn.com/v-components/cdn/qqsdk/default/index.fix.min.js",qqbrowser:"//jsapi.qq.com/get?api=app.share",app:o,kdweidian:o,vbuyer:o,browser:""};if(n!==a.constant.WX||"object"!=typeof window.wx)if(a.isApp&&void 0!==window.KDJSBridge2)t._callback();else{var i=r[n];this._loadJs(i,function(){n!=a.constant.WX?t._callback():t._initWeixinSDK()})}else e?t._initWeixinSDK(e):window.wx&&window.wx.ready(function(){t._callback()})},this._initWeixinSDK=function(n){var e=location.hostname.match(/\.(dev|daily|pre)\./),r=this,t="https://thor."+(e?"pre.":"")+"weidian.com/weixin/getjsconfig/2.0?param="+JSON.stringify({url:encodeURIComponent(location.href),mpid:this._mpid||i});r._ajax(t,function(e){if(0==e.status.code){var t=e.result;window.wx&&window.wx.config({beta:!0,debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:r.wxApiList}),window.wx&&window.wx.ready(function(){r._callback(),r.dispatch("wxJsbridgeLoad",{reset:!!n})}),window.wx&&window.wx.error(function(){r.dispatch("wxJsbridgeLoad",!1)})}else r.dispatch("wxJsbridgeLoad",!1)})},this.dispatch=function(e,t){var n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});window.dispatchEvent(n)},this._callback=function(){var e=this.callbackList,t=this._env,n=2<this.errorCount;e.forEach(function(e){e(t,n)}),this.callbackList=[],this.isReady=!0},this._ajax=function(e,t){var n=new XMLHttpRequest;n.onload=function(){if(200<=this.status&&this.status<300||304==n.status)try{t&&t(JSON.parse(this.response))}catch(e){}},n.open("POST",e,!0),n.setRequestHeader("Accept","application/json, text/plain, */*"),n.send()},this._loadJs=function(e,t){var n=this;if(e){var r=document.createElement("script");r.src=e,r.crossOrigin="anonymous",r.addEventListener("load",function(){t()}),r.addEventListener("error",function(){2<=n.errorCount++?t():n._loadJs(e,t)}),document.getElementsByTagName("head")[0].appendChild(r)}else t()}}.call(e.prototype),new e},void 0!==e&&e.exports?e.exports=r():window.SdkLoader=r()},function(e,t){e.exports=function(){if(void 0===window.CustomEvent){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("Events"),r=!0;for(var i in t)"bubbles"===i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),n}e.prototype=window.Event.prototype,window.CustomEvent=e}}()},function(e,t){var n,r,i,o=window.navigator.userAgent,a={QQ_BROWSER:"qqbrowser",WX:"wx",QQ:"qq",APP:"app",VBUYER:"vbuyer",WD:"kdweidian"};e.exports=(n="browser",r="0.0.0",i=null,/MQQBrowser\//i.test(o)&&(n="qqbrowser"),/MicroMessenger/i.test(o)&&(n="wx"),/QQ\/([\d\.]+)/i.test(o)&&(n="qq"),/WDAPP\(/.test(o)&&(n="app"),/WDAPP\(WDBuyer/.test(o)&&(n="vbuyer",i=o.match(/WDAPP\(WDBuyer\/([\d\.]+)/)),/WDAPP\(WD\//.test(o)&&(n="kdweidian",i=o.match(/WDAPP\(WD\/([\d\.]+)/)),i&&(r=i&&i[1]),{name:n,version:r,constant:a,isWx:n===a.WX,isQQ:n===a.QQ,isQQBrowser:n===a.QQ_BROWSER,isVbuyer:n===a.VBUYER,isWD:n===a.WD,isApp:n===a.WD||n===a.VBUYER||n===a.APP})},function(e,t){e.exports=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e){var t,n="";for(t=7;0<=t;t--)n+=(e>>>4*t&15).toString(16);return n}var r,i,o,a,s,c,u,l,d,p=new Array(80),f=1732584193,h=4023233417,m=2562383102,g=271733878,_=3285377520,v=(e=unescape(encodeURIComponent(e))).length,y=[];for(i=0;i<v-3;i+=4)o=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),y.push(o);switch(v%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(v-1)<<24|8388608;break;case 2:i=e.charCodeAt(v-2)<<24|e.charCodeAt(v-1)<<16|32768;break;case 3:i=e.charCodeAt(v-3)<<24|e.charCodeAt(v-2)<<16|e.charCodeAt(v-1)<<8|128}for(y.push(i);y.length%16!=14;)y.push(0);for(y.push(v>>>29),y.push(v<<3&4294967295),r=0;r<y.length;r+=16){for(i=0;i<16;i++)p[i]=y[r+i];for(i=16;i<=79;i++)p[i]=t(p[i-3]^p[i-8]^p[i-14]^p[i-16],1);for(a=f,s=h,c=m,u=g,l=_,i=0;i<=19;i++)d=t(a,5)+(s&c|~s&u)+l+p[i]+1518500249&4294967295,l=u,u=c,c=t(s,30),s=a,a=d;for(i=20;i<=39;i++)d=t(a,5)+(s^c^u)+l+p[i]+1859775393&4294967295,l=u,u=c,c=t(s,30),s=a,a=d;for(i=40;i<=59;i++)d=t(a,5)+(s&c|s&u|c&u)+l+p[i]+2400959708&4294967295,l=u,u=c,c=t(s,30),s=a,a=d;for(i=60;i<=79;i++)d=t(a,5)+(s^c^u)+l+p[i]+3395469782&4294967295,l=u,u=c,c=t(s,30),s=a,a=d;f=f+a&4294967295,h=h+s&4294967295,m=m+c&4294967295,g=g+u&4294967295,_=_+l&4294967295}return(d=n(f)+n(h)+n(m)+n(g)+n(_)).toLowerCase()}},function(e,t){e.exports=function(){var e=document.createElement("canvas");e.width=2e3,e.height=200,e.style.display="inline";var t=e.getContext("2d");return t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.font="11pt Arial",t.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.font="18pt Arial",t.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),e.toDataURL()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=navigator.userAgent.toLowerCase();function o(){return r.WEI_XIN_WORK_REGEXP.test(i)}t.isMobile=function(){return r.MOBILE_REGEXP.test(i)},t.isAndroid=function(){return r.ANDROID_REGEXP.test(i)},t.isIOS=function(){return r.IOS_REGEXP.test(i)},t.isApple=function(){return r.APPLE_REGEXP.test(i)},t.isIphone=function(){return r.IPHONE_REGEXP.test(i)},t.isIpad=function(){return r.IPAD_REGEXP.test(i)},t.isQQ=function(){return r.QQ_REGEXP.test(i)},t.isWeiXin=function(){return r.WEI_XIN_REGEXP.test(i)&&!o()},t.isWeiXinWork=o,t.isWeiBo=function(){return r.WEI_BO_REGEXP.test(i)},t.isWDBuyer=function(){return r.WD_BUYER_REGEXP.test(i)},t.getWDAppVersion=function(){var e,t=i.match(r.WD_APP_VERSION_REGEXP);return t&&(e=t[1]),e},t.isWDSeller=function(){return r.WD_SELLER_REGEXP.test(i)},t.isMiniProgram=function(){return"miniprogram"===window.__wxjs_environment||r.MINI_PROGRAM_REGEXP.test(i)},t.isAlipay=function(){return r.ALIPAY_REGEXP.test(i)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ANDROID_REGEXP=/(Android)\s+([\d.]+)/i,t.IOS_REGEXP=/\(i[^;]+;( U;)? cpu.+mac os x/i,t.MOBILE_REGEXP=/AppleWebKit.*Mobile.*/i,t.APPLE_REGEXP=/(iPhone|iPad|iPod|iOS|Mac OS X)/i,t.IPAD_REGEXP=/(iPad).*OS\s([\d_]+)/i,t.IPHONE_REGEXP=/(iPhone\sOS)\s([\d_]+)/i,t.QQ_REGEXP=/QQ\/([\d.]+)/i,t.WEI_XIN_REGEXP=/micromessenger/i,t.WEI_XIN_WORK_REGEXP=/wxwork\/.* MicroMessenger/i,t.WEI_BO_REGEXP=/WeiBo/i,t.WD_BUYER_REGEXP=/WDAPP\(WDBuyer/i,t.WD_SELLER_REGEXP=/WDAPP\(WD\//i,t.WD_APP_VERSION_REGEXP=/WDAPP\((?:wdbuyer|wd)\/([\d.]+)/i,t.ALIPAY_REGEXP=/AlipayClient/i,t.MINI_PROGRAM_REGEXP=/miniProgram/i},function(e,t,n){n(11),e.exports=function(){var r,e=n(12),i="data-spider",o="data-spider-prior",a=document.body,s=a.getAttribute(o)||a.getAttribute(i),c=[];return new MutationObserver(e(function(e){e.forEach(function(e){if("attributes"==e.type){var t=e.attributeName;if(t===o||t===i){if((r=a.getAttribute(o)||a.getAttribute(i))&&r!==s)for(var n=0;n<c.length;n++)c[n](s,r);s=r}}})})).observe(a,{attributes:!0}),function(e){c.push(e)}}},function(e,t){window.MutationObserver=window.MutationObserver||function(y){function o(e){this.i=[],this.m=e}function w(e){var t,n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(t in e)n[t]!==y&&e[t]!==y&&(n[t]=e[t]);return n}function a(r,i){var o=s(r,i);return function(e){var t,n=e.length;i.a&&3===r.nodeType&&r.nodeValue!==o.a&&e.push(new w({type:"characterData",target:r,oldValue:o.a})),i.b&&o.b&&S(e,r,o.b,i.f),(i.c||i.g)&&(t=function(h,e,t,m){function g(e,t,n,r,i){var o,a,s,c=e.length-1;for(i=-~((c-i)/2);s=e.pop();)o=n[s.j],a=r[s.l],m.c&&i&&Math.abs(s.j-s.l)>=c&&(h.push(w({type:"childList",target:t,addedNodes:[o],removedNodes:[o],nextSibling:o.nextSibling,previousSibling:o.previousSibling})),i--),m.b&&a.b&&S(h,o,a.b,m.f),m.a&&3===o.nodeType&&o.nodeValue!==a.a&&h.push(w({type:"characterData",target:o,oldValue:a.a})),m.g&&_(o,a)}function _(e,t){for(var n,r,i,o,a,s=e.childNodes,c=t.c,u=s.length,l=c?c.length:0,d=0,p=0,f=0;p<u||f<l;)(o=s[p])===(a=(i=c[f])&&i.node)?(m.b&&i.b&&S(h,o,i.b,m.f),m.a&&i.a!==y&&o.nodeValue!==i.a&&h.push(w({type:"characterData",target:o,oldValue:i.a})),r&&g(r,e,s,c,d),m.g&&(o.childNodes.length||i.c&&i.c.length)&&_(o,i),p++,f++):(v=!0,n||(n={},r=[]),o&&(n[i=b(o)]||(n[i]=!0,-1===(i=E(c,o,f,"node"))?m.c&&(h.push(w({type:"childList",target:e,addedNodes:[o],nextSibling:o.nextSibling,previousSibling:o.previousSibling})),d++):r.push({j:p,l:i})),p++),a&&a!==s[p]&&(n[i=b(a)]||(n[i]=!0,-1===(i=E(s,a,p))?m.c&&(h.push(w({type:"childList",target:t.node,removedNodes:[a],nextSibling:c[f+1],previousSibling:c[f-1]})),d--):r.push({j:i,l:f})),f++));r&&g(r,e,s,c,d)}var v;return _(e,t),v}(e,r,o,i)),!t&&e.length===n||(o=s(r,i))}}function S(e,t,n,r){for(var i,o,a={},s=t.attributes,c=s.length;c--;)o=(i=s[c]).name,r&&r[o]===y||(u(t,i)!==n[o]&&e.push(w({type:"attributes",target:t,attributeName:o,oldValue:n[o],attributeNamespace:i.namespaceURI})),a[o]=!0);for(o in n)a[o]||e.push(w({target:t,type:"attributes",attributeName:o,oldValue:n[o]}))}function s(e,r){var i=!0;return function e(n){var t={node:n};return!r.a||3!==n.nodeType&&8!==n.nodeType?(r.b&&i&&1===n.nodeType&&(t.b=c(n.attributes,function(e,t){return r.f&&!r.f[t.name]||(e[t.name]=u(n,t)),e})),i&&(r.c||r.a||r.b&&r.g)&&(t.c=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}(n.childNodes,e)),i=r.g):t.a=n.nodeValue,t}(e)}function b(t){try{return t.id||(t.mo_id=t.mo_id||n++)}catch(e){try{return t.nodeValue}catch(e){return n++}}}function c(e,t){for(var n={},r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function E(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}o._period=30,o.prototype={observe:function(e,t){for(var n={b:!!(t.attributes||t.attributeFilter||t.attributeOldValue),c:!!t.childList,g:!!t.subtree,a:!(!t.characterData&&!t.characterDataOldValue)},r=this.i,i=0;i<r.length;i++)r[i].s===e&&r.splice(i,1);t.attributeFilter&&(n.f=c(t.attributeFilter,function(e,t){return e[t]=!0,e})),r.push({s:e,o:a(e,n)}),this.h||function(n){!function e(){var t=n.takeRecords();t.length&&n.m(t,n),n.h=setTimeout(e,o._period)}()}(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var e=document.createElement("i");e.style.top=0;var u=(e="null"!=e.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},n=1;return o}(void 0)},function(e,t){e.exports=function(e,n){return function(){try{e.apply(this,arguments)}catch(e){if(console.warn("vcollect err: ",e),!n||"function"!=typeof n)return;var t=Array.prototype.slice.call(arguments,0);t.unshift(e),n.apply(this,t)}}}},function(e,t,n){"use strict";function r(e){try{console.log("[vcollect] performance info:"),console.log(" - report type: "+e.type),console.log(" - first screen time: ",e.firstScreenTime,"ms"),console.log(" - details: window.vcollectPerf");var t=e.firstScreenImagesDetail[0];t&&console.log(" - last-image: ",t)}catch(e){}}var i=n(14),o=n(16),a={request:{excludeUrl:[]}},s={request:{excludeUrl:[]}},c=function(){};e.exports={perf:i,onReport:function(e){e&&"function"==typeof e&&(c=e)},init:function(e,t){var n=this;i.install.call(this.perf,e,t),t&&t.auto&&(a=o({onReport:function(e){(window.vcollectPerf=e).success&&(i.reportTime(e.firstScreenTimeStamp,e,"auto"),r(e)),c&&c(e)},onAllXhrResolved:function(e){i.xhrLoad(e)},delayReport:300}),e.onSpmChange(function(e){e&&e.spmb&&n.reportPerf()}))},reportPerf:function(){o.report({onAllXhrResolved:function(e){i.xhrLoad(e)},onReport:function(e){(window.vcollectPerf=e).success&&(i.reportTime(e.firstScreenTimeStamp,e,"hand"),r(e)),c&&c(e)},request:s.request})},getFirstScreenInfo:function(){},ignoreRequestUrl:function(e){var t,n=0;if(e instanceof Array)for(;n<e.length;n++)"string"==typeof(t=e[n])&&(s.request.excludeUrl.push(t),a.request.excludeUrl.push(t))}}},function(e,t,n){"use strict";var h=n(2),r={},o=window.performance,m="__performance__visit_history",g=(n(15),/debug/.test(window.location.href)),a={};function _(e){var t={};for(var n in e){var r=n;"function"!=typeof e[n]&&("number"==typeof e[n]?t[r]="navigationStart"===n?a.navigationStartTimeStamp:Number(e[n].toFixed(3)):t[r]=e[n])}return t}function v(e){return e}function i(f){if(this.recordFirstScreen=function(){},this.docRetrieveStart=function(){},this.docRetrieveEnd=function(){},this.onRecord=!1,o&&null!=o.timing){var i={_firstScreenLoadStart:0,_firstScreenLoadEnd:0,_resourceTiming:[],_pageTiming:null,reportData:function(d){var p=this;d.success&&h._getNetwork(function(r){function i(e){return e?e.replace(/^http(s)?:/,"").replace(/^\/\//,"").replace(/\?[\w\W]*/,""):e}function t(e){if(!(e.startTime<d.navigationStartTime)){var t=_(e);if(!(t.startTime&&parseInt(t.startTime)>parseInt(d.firstScreenTime))){var n=t.name;/(\.)(png|jpg|jpeg|gif|webp)($|#|\?)/.test(n)?(o.imgCounts++,t.initiatorType="img"):function(e,t){for(var n=0,r=t.length;n<r;n++)if(i(t[n].src)==i(e))return!0;return!1}(n,d.requests)||/callback=jsonp/i.test(n)?(o.xhrCounts++,t.initiatorType="xhr"):/\.((css$)|(css\?)|(css#))/.test(n)?(o.cssCounts++,t.initiatorType="css"):/\.((js$)|(js\?)|(js#))/.test(n)?(o.jsCounts++,t.initiatorType="script"):/\.(ttf|woff)$/.test(n)?(o.fontCounts++,t.initiatorType="font"):(o.unknown++,t.initiatorType="unknown"),o.resourceCounts++,t.network=r,f.report("performance","resourceTiming",v(t))}}}var o={xhrCounts:0,cssCounts:0,imgCounts:0,jsCounts:0,fontCounts:0,unknown:0,resourceCounts:0};p._resourceTiming.forEach(function(e){t(e)});var e,n,a=JSON.stringify({network:null,initiatorType:"vcollect-perf",nextHopProtocol:"http/1.1",workerStart:0,redirectStart:0,redirectEnd:0,fetchStart:0,domainLookupStart:0,domainLookupEnd:0,connectStart:0,connectEnd:0,secureConnectionStart:0,requestStart:0,responseStart:0,responseEnd:0,transferSize:0,encodedBodySize:0,decodedBodySize:0,serverTiming:[],name:"",entryType:"resource",startTime:0,duration:0});try{e=JSON.parse(a),n=function(){var e={};for(var t in d)/^((firstScreenImages)|(firstScreenImagesDetail)|(network)|(firstScreenTimeStamp)|(requests)|(navigationStartTimeStamp))$/.test(t)||(e[t]=d[t]);return d.firstScreenImagesDetail&&(e.imgDetail=d.firstScreenImagesDetail.slice(0,12),12<d.firstScreenImagesDetail.length&&e.imgDetail.push("...")),e}(),e.initiatorType="vcollect-perf",g&&console.log("上报的自定义性能字段：",n),e.name=JSON.stringify(n),f.report("performance","resourceTiming",v(e))}catch(e){g&&console.log("error in reportMoreInfo: ",e)}if(d.success){var s=p._pageTiming;for(var c in o)s[c]=o[c];s.firstScreenLoadStart=p._firstScreenLoadStart,s.firstScreenLoadEnd=p._firstScreenLoadEnd,s.network=r,s.firstScreen=d.firstScreenTime;var u=_(s),l=0===function(){var e=h._getLocalStorageItemSafty(m),t=f.getMeta(),r=[t.spma,t.spmb].join("."),i=-1,n=function(){function e(e){return e?e.replace(/^http(s)?:/,"").replace(/^\/\//,""):e}var t,n,r,i=[],o=[].slice.call(document.getElementsByTagName("script"),0),a=[].slice.call(document.getElementsByTagName("link"),0);for(t=0,n=o.length;t<n;t++)(r=o[t].getAttribute("src"))&&/\.js/.test(r)&&i.push(e(r));for(t=0,n=a.length;t<n;t++)(r=a[t].getAttribute("href"))&&/\.css/.test(r)&&i.push(e(r));return i}();n.sort();var o=h._generateHash(n.join(",")),a=(e=e?e.split("|"):[]).some(function(e,t){if((e=h._JSONParseSafty(e)).spm!==r)return!1;i=t;var n=null;return/\[/.test(e.v)&&(n=function(e){var t=[];try{t=JSON.parse(e)}catch(e){}return"[object Array]"!==Object.prototype.toString.call(t)&&(t=[]),t}(e.v)),(n?h._generateHash(n.join(",")):e.v)===o&&Date.now()-e.time<=2592e6}),s=JSON.stringify({spm:r,time:Date.now(),v:o});-1===i?e.splice(e.length,0,s):e.splice(i,1,s);return h._setLocalStorageItemSafty(m,e.join("|")),a?1:0}()?"first":"second";f.report("performance","pageTiming_"+l,u)}})}};this.reportTime=function(e,t,n){var r=o.timing;a=t,r.name="document",r.entryType="navigation",r.startTime=0,r.duration=a.firstScreenTime,i._firstScreenLoadEnd=e,i._pageTiming=r,function(){if("function"==typeof o.getEntries){var e=o.getEntriesByType("resource");i._resourceTiming=e}}(),i.reportData(t,n)},this.xhrLoad=function(e){i._firstScreenLoadStart=e}}}r.install=function(e,t){(function(r){if(o){var e=function(e){o.mark(e);var t=o.getEntriesByName(e,"mark").pop();a(t)},t=function(e){var t={duration:0,entryType:"mark",name:e,startTime:Date.now()};s.push(t),a(t)},n=function(e,t,n){o.measure(e,t,n);var r=o.getEntriesByName(e,"measure").pop();a(r)},i=function(e,t,n){var r,i,o=s;r=void 0===t?0:o._getMarkStartTime(t),i=void 0===n?Date.now():o._getMarkStartTime(n),a({duration:i-r,entryType:"measure",name:e,startTime:r})},a=function(n){h._getNetwork(function(e){n.network=e;var t=_(n);r.report("performance","userTiming",t)})},s={push:function(e){this._markCache.push(e)},_markCache:[],_getMarkStartTime:function(t){var n;return this._markCache.forEach(function(e){e.name===t&&(n=e.startTime)}),n}};this.mark="function"==typeof o.mark?e:t,this.measure="function"==typeof o.measure?n:i}}).call(r,e),i.call(r,e)},e.exports=r},function(e,t){e.exports={initiatorType:"it",nextHopProtocol:"nhp",workerStart:"ws",redirectStart:"rs",redirectEnd:"re",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"reqs",responseStart:"ress",responseEnd:"rese",transferSize:"ts",encodedBodySize:"ebs",decodedBodySize:"dbs",serverTiming:"st",name:"n",entryType:"et",startTime:"st",duration:"dt"}},function(e,t,n){var r=window.performance&&window.performance.timing,i=window.performance&&window.performance.getEntries&&"function"==typeof window.performance.getEntries&&window.performance.getEntries()instanceof Array;function o(){}r&&i?(e.exports=n(17).auto,e.exports.report=n(17).hand):(e.exports=o,e.exports.report=o)},function(e,t,n){var r=(new Date).getTime(),u=window,l=n(18),d=l.initGlobal();function i(){function e(){if(!d.hasStableFound){d.hasStableFound=!0,d.stopCatchingRequest=!0;var e=t();d.onStableStatusFound(e)}}function n(e){if(e.device=d.device,e.success=!0,d.delayReport)var t=setTimeout(function(){d.hasReported||(d.hasReported=!0,d.onReport(e)),clearTimeout(t)},d.delayReport);else d.hasReported||(d.hasReported=!0,d.onReport(e))}function t(){var e=function(){var e=u.innerHeight,t=u.innerWidth;d.device.screenHeight=e,d.device.screenWidth=t;var n=l.queryAllNode(d.ignoreTag),r=n.nextNode(),i=[];for(;r;){var o=l.getImgSrcFromDom(r);o?(l.recordCurrentPos(r,d),l.isInFirstScreen(r)&&(a=o,c=void 0,s=l.parseUrl(a),(c=s.protocol)&&0===c.indexOf("http")&&-1===i.indexOf(s.href)&&i.push(s.href)),r=n.nextNode()):r=n.nextNode()}var a,s,c;return i}(),t={type:"perf",isStaticPage:!d.isFirstRequestSent&&(!!/auto/.test(d.reportDesc)||"unknown"),firstScreenImages:[],firstScreenImagesLength:0,firstScreenImagesDetail:[],requests:l.transRequestDetails2Arr(d),firstScreenTime:-1,firstScreenTimeStamp:-1,navigationStartTimeStamp:d._originalNavStart,version:l.version,runtime:l.getTime()-r,reportDesc:d.reportDesc,url:window.location.href.substring(0,200),reportTimeFrom:d.reportTimeFrom};return t.firstScreenImages=e,t.firstScreenImagesLength=e.length,e.length?l.getByOnload(d,e,function(e){t.firstScreenTime=e.firstScreenTime,t.firstScreenTimeStamp=e.firstScreenTimeStamp,t.firstScreenImagesDetail=e.firstScreenImagesDetail,t.reportTimeFrom="perf-img-from-onload",n(t)},function(e){t.firstScreenTime=e.firstScreenTime,t.firstScreenTimeStamp=e.firstScreenTimeStamp,t.firstScreenImagesDetail=e.firstScreenImagesDetail,t.reportTimeFrom="perf-img-from-performance",n(t)}):/^hand/.test(d.reportDesc)?(t.firstScreenTimeStamp=d.handExcuteTime,t.firstScreenTime=d.handExcuteTime-d._originalNavStart,t.reportTimeFrom="perf-hand-from-force",n(t)):l.getDomReadyTime(d,function(e){t.firstScreenTimeStamp=e,t.firstScreenTime=e-d._originalNavStart,t.reportTimeFrom="domContentLoadedEventStart",n(t)}),t}return{mergeUserConfig:function(e){l.mergeUserConfig(d,e)},testStaticPage:function(){l.testStaticPage(function(){e()},d)},overrideRequest:function(){l.overrideRequest(d,function(){e()})},recordFirstScreenInfo:t,runOnPageStable:e,monitorPageLeave:function(){l.monitorPageLeave(function(){e()},d)},global:d}}e.exports={auto:function(e){var t=i();return t.global.reportDesc="auto-perf",t.mergeUserConfig(e),t.testStaticPage(),t.overrideRequest(),t.monitorPageLeave(),t.global},hand:function(e){var t=i();return t.global.reportDesc="hand-perf",t.global.handExcuteTime=(new Date).getTime(),t.mergeUserConfig(e),t.runOnPageStable("perf-hand"),t.global}}},function(e,t,n){window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var r=n(19),a=Array.prototype.slice,i=[/(\.)(png|jpg|jpeg|gif|webp)/i];e.exports={version:"6.0.0-beta",getDomReadyTime:function(e,t){function n(){0!=performance.timing.domContentLoadedEventStart&&t(performance.timing.domContentLoadedEventStart),(50<=++r||0!=performance.timing.domContentLoadedEventStart)&&clearInterval(i)}var r=0,i=setInterval(n,500);n()},getImgSrcFromDom:function(e){var t;if("IMG"==e.nodeName.toUpperCase())t=e.getAttribute("src");else{var n=window.getComputedStyle(e),r=(n.getPropertyValue("background-image")||n.getPropertyValue("background")).match(/url\(.+\)/),i=r&&r[0];i&&(i=i.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,""),(/^http/.test(i)||/^\/\//.test(i))&&this._filteImg(i)&&(t=i))}return t},_filteImg:function(e){for(var t=0,n=i.length;t<n;t++)if(i[t].test(e))return!0;return!1},currentPos:{scrollTop:0,top:0,bottom:0,left:0,right:0},recordCurrentPos:function(e,t){var n,r=e.getBoundingClientRect(),i=document.querySelector(t.scrollWrapper);if(i){var o=i.getBoundingClientRect();n=o.top<0?-o.top:0}else n=document.documentElement.scrollTop||document.body.scrollTop;var a=r.top,s=r.bottom,c=r.left,u=r.right;this.currentPos.scrollTop=n,this.currentPos.top=a,this.currentPos.bottom=s,this.currentPos.left=c,this.currentPos.right=u},isInFirstScreen:function(e){if(!this.currentPos.top&&!this.currentPos.bottom)return!1;var t=window.innerHeight,n=window.innerWidth,r=this.currentPos.scrollTop,i=this.currentPos.top,o=this.currentPos.left,a=this.currentPos.right;return r+i<t&&0<a&&o<n},queryAllNode:function(e){var t=this,n=document.querySelectorAll(e),r=document.querySelector("[perf-dom]")||document.body;return document.createNodeIterator(document.body,NodeFilter.SHOW_ELEMENT,function(e){if(!t._shouldIgnoreNode(e,n)&&t._isChild(e,r))return NodeFilter.FILTER_ACCEPT})},_shouldIgnoreNode:function(e,t){for(var n=0,r=t.length;n<r;n++)if(this._isChild(e,t[n]))return!0;return!1},_isChild:function(e,t){for(var n=!1;e;){if(e===t){n=!0;break}e=e.parentNode}return n},parseUrl:function(e){var t=document.createElement("a");return t.href=e,t},transRequestDetails2Arr:function(e){var t=[],n={};for(var r in e.requestDetails){var i=r.split(">time")[0].replace(/^http(s)?:/,"").replace(/^\/\//,"");for(var o in n={src:i},e.requestDetails[r])n[o]=e.requestDetails[r][o];t.push(n)}return t},initGlobal:function(){return{stopCatchingRequest:!1,isFirstRequestSent:!1,catchRequestTimeSections:[],device:{},requestDetails:{},ignoreTag:"[perf-ignore]",scrollWrapper:"[perf-scroll]",hasReported:!1,hasStableFound:!1,reportDesc:"",handExcuteTime:0,_originalNavStart:window.performance.timing.navigationStart,onReport:function(){},onStableStatusFound:function(){},request:{limitedIn:[],exclude:[/(sockjs)|(socketjs)|(socket\.io)|(logtake)/],excludeUrl:[]},renderTimeAfterGettingData:300,watingTimeWhenDefineStaticPage:2e3,delayReport:0,jsonpFilter:/callback=jsonp/,reportTimeFrom:""}},getTime:function(){return(new Date).getTime()},overrideRequest:function(s,r){function i(e){s.requestDetails[e]||(s.requestDetails[e]={status:"",completeTimeStamp:"",completeTime:"",type:""})}function e(e,t){s.isFirstRequestSent||(s.isFirstRequestSent=!0);var n=e+">time:"+c.getTime();return i(n),s.requestDetails[n].status="sent",s.requestDetails[n].type=t,o[n]="start",{requestKey:n}}function t(e){var t=c.getTime();i(e),s.requestDetails[e].status="complete",s.requestDetails[e].completeTimeStamp=t,s.requestDetails[e].completeTime=t-s._originalNavStart,s.catchRequestTimeSections.push([t,t+s.renderTimeAfterGettingData]);var n=setTimeout(function(){o[e]="stopped",function(){for(var e in s.requestDetails)if(s.requestDetails[e]&&"complete"!==s.requestDetails[e].status)return!1;return!0}()&&function(){for(var e in o)if("stopped"!==o[e])return!1;return!0}()&&(s.onAllXhrResolved(Date.now()),r()),clearTimeout(n)},s.renderTimeAfterGettingData)}var c=this,o={};!function(a,s){if(window.fetch&&"function"==typeof Promise){var c=window.fetch;window.fetch=function(){var i=this,o=arguments;return new Promise(function(t,n){var e,r;"string"==typeof o[0]?e=o[0]:"object"==typeof o[0]&&(e=o[0].url),e&&(r=a(e,"fetch").requestKey),c.apply(i,o).then(function(e){r&&s(r),t(e)}).catch(function(e){r&&s(r),n(e)})})}}}(e,t),function(n,r){var e=XMLHttpRequest.prototype,i=e.open;e.open=function(e,t){return this._http=this._http||{},this._http.method=e,this._http.url=t,i.apply(this,[].slice.call(arguments))};var o=e.send;e.send=function(){if(function(e){var t=!0;s.stopCatchingRequest&&(t=!1);for(var n=c.getTime(),r=0;r<s.catchRequestTimeSections.length;r++){var i=s.catchRequestTimeSections[r];if(n>=i[0]&&n<=i[1])break}s.catchRequestTimeSections.length&&r===s.catchRequestTimeSections.length&&(t=!1);for(var o=0,a=s.request.limitedIn.length;o<a;o++)s.request.limitedIn[o].test(e)||(t=!1);for(o=0,a=s.request.exclude.length;o<a;o++)s.request.exclude[o].test(e)&&(t=!1);for(o=0,a=s.request.excludeUrl.length;o<a;o++)if(-1!==e.indexOf(s.request.excludeUrl[o])){t=!1;break}return t}(this._http.url)){var e=n(this._http.url,"xhr").requestKey,t=this.onreadystatechange;this.onreadystatechange=function(){4===this.readyState&&r(e),t&&t.apply&&t.apply(this,arguments)}}return o.apply(this,a.call(arguments))}}(e,t)},monitorPageLeave:function(e,t){},mergeUserConfig:function(e,t){if(t){for(var n in t)-1!==["watingTimeWhenDefineStaticPage","onReport","onStableStatusFound","renderTimeAfterGettingData","onAllXhrResolved","delayReport","jsonpFilter"].indexOf(n)&&(e[n]=t[n]);var r=t.request||t.xhr;r&&(r.limitedIn&&(e.request.limitedIn=e.request.limitedIn.concat(r.limitedIn)),r.exclude&&(e.request.exclude=e.request.exclude.concat(r.exclude)),r.excludeUrl&&(e.request.excludeUrl=e.request.excludeUrl.concat(r.excludeUrl))),t.img&&("object"==typeof t.img&&"function"==typeof t.img.test?e.img.push(t.img):console.error('[auto-compute-first-screen-time] param "img" should be type RegExp'))}},testStaticPage:function(t,n){function e(){r.onloadFinished=!0;var e=setTimeout(function(){clearTimeout(e),n.isFirstRequestSent||t()},n.watingTimeWhenDefineStaticPage)}r.onloadFinished?e():window.addEventListener("load",e)},cycleGettingPerformaceTime:function(p,f,h){function e(){var e,t,n=performance.getEntries(),r=0,i=[],o=[],a={};for(e=0,t=n.length;e<t;e++){var s=(c=n[e]).name;a[s]||(a[s]=!0,o.push(c))}for(e=0,t=o.length;e<t;e++){var c,u=(c=o[e]).name;if(-1!==f.indexOf(u)){r++;var l=parseInt(c.responseEnd),d=parseInt(c.fetchStart);i.push({src:u,responseEnd:l<0?0:l,fetchStart:d<0?0:d,from:"performance"})}}i.sort(function(e,t){return t.responseEnd-e.responseEnd}),r===f.length&&(clearInterval(g),h({firstScreenTime:parseInt(i[0].responseEnd),firstScreenTimeStamp:parseInt(i[0].responseEnd)+p._originalNavStart,firstScreenImagesDetail:i})),50<=++m&&clearInterval(g)}var m=0,g=setInterval(e,1e3);e()},getByOnload:function(e,t,n,r){this.cycleGettingPerformaceTime(e,t,function(e){r(e)})}}},function(e,t){e.exports={onloadFinished:!1}},function(e,t,n){"use strict";var I=n(2),i=n(21),o=n(22).default,P=n(8),D=n(23),k=I._console,C={},O="data-spider",R="data-spider-prior",q="data-spider-action-name",N="data-spider-impression",M="spider_action",L="spider_token",j="javascript:",W="__spider__token_",U=I._getCookieStoreDomain(),B={BUY_NOW:"_buyNow",ADD_TO_CART:"_addToCart",ADD_TO_FAVORITES:"_addToFavorites",CANCEL_TO_FAVORITES:"_cancelToFavorites",SHARE:"_share",LIKE:"_like",EXPOSE:"_expose",ITEM:"_item",SHOP:"_shop",DOWNLOAD:"_download",DEPRECATED:"_deprecated"},Q=[void 0,void 0,void 0,void 0],F={},H="",X={},J=null;Q.toString=function(){return this.join(".")},C.reset=function(){C.trackPageview=I._noop,C.trackAction=I._noop,C.transferAction=I._noop,C.transferActionBy=I._noop,C.getClickElement=I._noop,C.extractActionFrom=I._noop,C.disableAutoReport=I._noop,C.constants=I._noop,C.getSearchParams=I._noop,C.getCookie=I._getCookie,C.VERSION="0.1.3"},C.init=function(a){this.reset();try{o.init()}catch(e){k.error("error",e)}var s=b()[L],c=null;function u(e,t){if(!Q[0]||!Q[1]){var n=a.getMeta();Q[0]=n.spma,Q[1]=n.spmb}Q[0]&&Q[1]&&v(e)&&A("click",r(),t)}function l(e,t){if(T(e=e.trim())){if(function(e){var t=I._urlParse(e);return"weidianbuyer:"===t.protocol&&0<=t.pathname.indexOf("//wdb/webview")}(e)){var n=I._urlParse(e),r=I._queryStringParse(n.search);if(!r.url)return u(t),e;var i=f(r.url,t);r.url=i;var o=I._queryStringStringify(r);return e.replace(/(\?|#)[\S]*$/,"")+"?"+o}return u(t),e}if(!function(e){return x(I._urlParse(e))}(e))return e;if(I._is3rdPartUrl(e))return u(t),e;if(P.isMiniProgram()&&("thirdApp"!=b().invoke||/^\/lib\//.test(e)||(e=D.setQuerystring(e,{invoke:"thirdApp"})),"wx_zhuanzhuan"!==b().vc_minip)){var a=function(e){var t=e.match(/weidian.com\/item\.html.*(item)ID=(\d+)/)||e.match(/weidian\.com\/?\?.*(user)id=(\d+)/);if(!t)return!1;var n=t[1],r=t[2];return{page:n,id:r,param:function(e){var t;return e&&(t=e.match(/^[^\?#]*\?([^#]*)/))&&t[1]}(e)}}(e),s={item:{url:"/lib/item/dist/pages/index/index?itemId=",actionName:C.constants.ITEM},user:{url:"/lib/shop/dist/pages/index/index?shopId=",actionName:C.constants.SHOP}};if(a)return _(t)?t=p(t):I._isObjectAndNotNull(t)||(k.error("action 必须是一个对象"),t=null),null!==t&&(t.actionName=s[a.page].actionName,u(t)),window.wx&&window.wx.miniProgram.navigateTo({url:s[a.page].url+a.id+"&"+a.param}),j}return f(e,t)}function d(e){v(e)&&(a.updateDocReferrer(),s=y())}function p(e){if(!_(e)||!m(e))return k.error("extractActionFrom() 应接收 spiderElement 作参数"),null;var t,n,r=e,i=r.getAttribute(q)||"",o=I._JSONParseSafty(r.getAttribute("data-spider-action-args")),a=h(r.parentNode,g);n=a?(t=a.getAttribute(R)||a.getAttribute(O),String(function(e,t){for(var n=function(e){return e.querySelectorAll("["+O+"], ["+q+"],["+N+"], a[href]")}(t),r=0,i=0,o=n.length;i<o;i++){var a=n[i];if(m(a)&&r++,a===e)return r}return 0}(r,a)||"_")):(t="_",String(function(e){for(var t=0,n=document.querySelectorAll("["+q+"], ["+N+"]"),r=0;r<n.length;r++){if(null===h(n[r].parentNode,g)&&t++,e===n[r])return t}return 0}(r)||"_")),"_"!==t||""!==i||!x(r)||0!==r.getAttribute("href").indexOf("#")&&(t="spider-auto",n=String(function(e){var t=document.querySelectorAll("a"),n=0;t=[].filter.call(t,function(e){var t=h(e.parentNode,g),n=e.getAttribute(q),r=e.getAttribute(O);return!t&&!n&&!r});for(var r=0,i=t.length;r<i;r++){var o=t[r];if(n++,o===e)return n}return 0}(r)));return{spmc:t,spmd:n,actionName:i,actionArgs:o}}function f(e,t){if(!v(t))return e;var n=I._urlParse(e),r=I._queryStringParse(n.search.replace("?",""));I._isEqualPartUrl(n.hostname)?r[L]=y():(r.spider=Q.toString(),H&&(r[M]=H));var i=b();r.wfr=r.wfr||i.wfr,r.ifr=r.ifr||i.ifr,r.share_relation=i.share_relation,I._extendObj(r,function(e,t){var n,r="vc_";for(var i in t)I._hasOwn(t,i)&&(0===(n=i).indexOf(r)&&n.length>r.length)&&t[i]&&(e[i]=e[i]||t[i]);return e}(r,i)),r.wfr||delete r.wfr,r.ifr||delete r.ifr,r.share_relation||delete r.share_relation;var o=n.hash,a=I._queryStringStringify(r);return e.replace(/(\?|#)[\S]*$/,"")+"?"+a+o}function r(){return{cur_spm:Q.toString(),cur_page_args:F,cur_action_name:H,cur_action_args:X}}function h(e,t){for(var n=e;;){if(n===document.body)return null;if(n===document.documentElement)return null;if(null===n)return null;if(t(n))return n;n=n.parentNode}}function m(e){return!(!e.hasAttribute(O)||""!==e.getAttribute(O))||(!(!e.getAttribute(q)&&!e.hasAttribute(N))||(!!x(e)||!!T(e)))}function g(e){return!(!e.getAttribute(R)&&!e.getAttribute(O))}function _(e){return!!I._isObjectAndNotNull(e)&&e.nodeType===Node.ELEMENT_NODE}function e(e){var t=h(e.target,m);if(null!==t){var n=p(t);if(null!==n&&("_"!==n.spmc||""!==n.actionName)){var r=t.getAttribute("data-spider-mode");switch(J=t,r){case"none":break;case"transferAction":d(n);break;case"transferActionBy":var i=t.getAttribute("data-href");i&&t.setAttribute("data-href",l(i,n));break;case"trackAction":u(n);break;default:var o=h(t,function(e){return x(e)||T(e)});if(o){var a=l(o.href,n);a===j?e.preventDefault():o.href=a}else u(n)}}}}function v(e){if(_(e)){if(null===(e=p(e)))return!1}else{if(!I._isObjectAndNotNull(e))return k.error("action 必须是一个对象"),!1;void 0===e.spmd&&(e.spmd=1)}var t=String(e.spmc||"_"),n=String(e.spmd||"_"),r=String(e.actionName||""),i=String(e.actionType||"");if(i&&(r=r||i,k.warn("action.actionType 将废弃，请使用 action.actionName 代替")),e.actionArgs&&"object"!=typeof e.actionArgs)return k.error("actionArgs 必须是一个 object"),!1;var o=e.actionArgs||{};return I._isValidSpmValue(t)?I._isValidSpmValue(n)?0!==r.indexOf("_")||S(r)?"_"===t&&""===r?(k.error("spmc, actionName 不能同时为空"),!1):"_"!==t&&"_"===n?(k.error("spmc 有值时 spmd 不能同时为空"),!1):(Q[2]=t,Q[3]=n,H=r,X=o,!0):(k.error("下划线起始的 actionName 代表特定功能，禁止自定义，请查看 spider.constants 了解内置的 actionName"),!1):(k.error("spm只允许英文、数字、中划线、下划线组成，"+n+"不合法"),!1):(k.error("spm只允许英文、数字、中划线、下划线组成，"+t+"不合法"),!1)}function y(){if(Q[0]&&Q[1]){var e=I._generateToken(Q.toString(),4),t=W+e,n=w(r(),"cur_","prev_");return n.prev_action_args=n.prev_action_args||{},n.prev_action_args.realVisitId=a.getMeta().visit_id,I._setCookie(t,I._JSONStringifySafty(n),{domain:U,path:"/","max-age":30}),e}}function w(n,r,i){var o={};return Object.keys(n).forEach(function(e){var t=e.replace(r,i);o[t]=n[e]}),o}function S(e){return 0<=S.validList.indexOf(e)}function b(){var e=I._getSearch();return I._queryStringParse(e)}function E(){var e=I._getCookie();Object.keys(e).forEach(function(e){0===e.indexOf(W)&&I._delCookie(e,{domain:U,path:"/"})})}function x(e){var t=e.getAttribute("href"),n=t&&""!==t&&0!==t.indexOf("#");return!("A"!==e.nodeName||!e.protocol||0!==e.protocol.indexOf("http")||!n)}function T(e){return"weidianbuyer:"===I._urlParse(e).protocol}function A(e,t,n){a.report("spider",e,I._normalizeReportData(t),n)}function t(){if(window!==window.top&&0===window.name.indexOf("visual-window:")){var n=["assets.geilicdn.com","assets.pre.geilicdn.com","assets.daily.geilicdn.com","h5.dev.weidian.com"],e=window.name.match(/^visual-window:([\S\s]+)$/)[1].split("|"),r=e.length,i=0;e.forEach(function(e){var t=I._urlParse(e);!x(t)||n.indexOf(t.hostname)<0||function(e,t){var n=document.createElement("script");n.src=e,document.head&&document.head.appendChild(n),n.onload=function(){t&&t()}}(e,function(){++i===r&&function(){var e=C.trackPageview;C.trackPageview=function(){e.apply(this,[].slice.call(arguments)),setTimeout(function(){window.spider_visual.init(Q.toString(),F)})},void 0!==Q[0]&&window.spider_visual.init(Q.toString(),F)}()})})}}document.body.addEventListener("click",e,!0),S.validList=Object.keys(B).map(function(e){return B[e]}),function(){if(navigator.userAgent.match(/iPhone OS [\d_]+/)){var e=document.createElement("style");e.type="text/css",e.innerHTML='\t    [data-spider=""], \t    [data-spider-action-type], \t    [data-spider-action-name] {\t        cursor: pointer; \t    }',document.getElementsByTagName("head").item(0).appendChild(e)}}(),window.addEventListener("pageshow",function(e){!0===e.persisted&&function(){Q[2]="0",Q[3]="0",F.ts=+new Date;var e={prev_spm:"",prev_page_args:{},prev_action_name:"",prev_action_args:{}};e.cur_spm=Q.toString(),e.cur_page_args=F,A("page_view",e)}()}),C.trackPageview=function(i){if(document.body.dataset.spider||document.body.dataset.spiderPrior){var o=arguments;clearTimeout(c),c=setTimeout(function(){i=0===o.length?{}:"object"==typeof o[o.length-1]?o[o.length-1]:{};var e=a.getMeta();if(Q[0]=e.spma,Q[1]=e.spmb,Q[2]="0",Q[3]="0",Q[0]&&Q[1]){var t=function(){var e,t={prev_spm:"",prev_page_args:{},prev_action_name:"",prev_action_args:{}};e=s?function(e){var t=function(e){var t=W+e,n=I._getCookie(t);return E(),n}(e);return null===t?null:I._JSONParseSafty(t)}(s)||t:function(){var e=b(),t=e.spider,n=e[M];{if(t){var r={prev_spm:"",prev_page_args:{},prev_action_name:"",prev_action_args:{}};return r.prev_spm=t,r.prev_action_name=n,r}return null}}()||t;return E(),e}();if(i._page){var n=i._page;delete i._page,S(n)?t.prev_spm&&(t.prev_action_name=n,t.prev_action_args=I._extendObj({},i,t.prev_action_args)):k.error("pageArgs._page 需是内置的 actionName 值，详见 spider.contants")}!t.prev_action_name&&t.prev_spm&&(t.prev_action_name="_jumpTo_"+Q[0]+"."+Q[1]),function(e){var t=w(e,"prev_","cur_");{if(""===t.cur_spm)return;A("click",t)}}(t),(F=i).ts=+new Date,F.wfr=b().wfr,F.wfr||delete F.wfr,F.ifr=b().ifr,F.ifr||delete F.ifr;var r=I._extendObj({},t);r.cur_spm=Q.toString(),r.cur_page_args=F,A("page_view",r),clearTimeout(c)}})}},C.trackAction=u,C.trackImpression=function(e,t){if(!Q[0]||!Q[1]){var n=a.getMeta();Q[0]=n.spma,Q[1]=n.spmb}Q[0]&&Q[1]&&v(e)&&A("expose",r(),t)},C.transferAction=d,C.transferActionBy=l,C.getClickElement=function(){return J},C.extractActionFrom=p,C.disableAutoReport=function(){return document.body.removeEventListener("click",e,!0),e},C.constants=B,C.getSearchParams=b,C.impression={observe:function(){}},-1<I._listCustomPlugin().indexOf("impression")&&i.init(C),setTimeout(function(){t()})},e.exports=C},function(e,t){var n={};n.init=function(u){var e,t,n,l=window,d=document,p="data-spider-impression",f={container:l,height:l.innerHeight,scrollHandler:(e=function(){for(var e=d.querySelectorAll("["+p+'=""]')||[],t=d.querySelectorAll("["+p+'="true"]')||[],n=[],r=0,i=e.length;r<i;r++)n.push(e[r]);for(var o=0,a=t.length;o<a;o++)n.push(t[o]);var s=null,c=f.container;c&&c!==l&&"function"==typeof c.getBoundingClientRect&&(s=c.getBoundingClientRect());[].forEach.call(n,function(e){!function(e,t){var n=e.getBoundingClientRect(),r=n.top,i=n.bottom-r,o=f.height;return t?r-t.top>=-i/4&&r<=t.bottom-3*i/4:o<i?3*-i/4<=r&&r<=3*o/4:-i/4<=r&&r<=o-3*i/4}(e,s)||(function(e){e.dataset.spiderImpression="impressed"}(e),function(e){var t=u.extractActionFrom(e);t&&(t.actionArgs.hasOwnProperty("spoor"),u.trackImpression(t))}(e))})},t=500,function(){n&&clearTimeout(n),n=setTimeout(function(){e&&e()},t)}),resizeHandler:function(){f.height=l.innerHeight,f.scrollHandler()}};function r(){u.impression&&!u.impression.ALREADY_EXEC&&(u.impression.ALREADY_EXEC=!0,f.scrollHandler(),l.addEventListener("resize",f.resizeHandler),l.addEventListener("scroll",f.scrollHandler))}u.impression={observe:r,disconnect:function(){u.impression&&u.impression.ALREADY_EXEC&&(u.impression.ALREADY_EXEC=!1,l.removeEventListener("resize",f.resizeHandler),l.removeEventListener("scroll",f.scrollHandler))},traverse:function(e){f.container=e||l,f.scrollHandler()}},r()},e.exports=n},function(e,t,n){var r;window,r=function(){return r={},i.m=n=[function(e,t,n){"use strict";var r,i,o,a;n.r(t),(a=r=r||{}).Create="create",a.Update="update",a.Delete="delete",a.Immutable="immutable",a.sourceIdChanged="sourceIdChanged",(o=i=i||{}).DB="DB",o.DOM="DOM";var s="data-v-spiderid",c="data-spider",u="data-spider-vda",l="data-spider-action-name",d="data-spider-impression",p="data-spider-action-args";function f(){var e=document.head,t=e.querySelector("meta[name='data-spider']")&&e.querySelector("meta[name='data-spider']").getAttribute("content");return{spma:t=e.querySelector("meta[name='data-spider-prior']")&&e.querySelector("meta[name='data-spider-prior']").getAttribute("content")||t,spmb:document.body.getAttribute("data-spider-prior")||document.body.getAttribute("data-spider")}}function h(e,t,n){if(void 0===n&&(n=!0),e&&0!==e.length)return e&&e.length?Array.from(e).forEach(function(e){h(e,t,n)}):(n&&e.setAttribute(u,""),e.setAttribute(c,t))}function m(e,t,n){if(void 0===n&&(n=!0),e&&0!==e.length)return e&&e.length?Array.from(e).forEach(function(e){m(e,t,n)}):(n&&e.setAttribute(u,""),e.setAttribute(l,t))}function g(e,t){if(void 0===t&&(t=!0),e&&0!==e.length)return e&&e.length?Array.from(e).forEach(function(e){g(e,t)}):(t&&e.setAttribute(u,""),e.setAttribute(c,""))}function _(e,t){if(void 0===t&&(t=!0),e&&0!==e.length)return e&&e.length?Array.from(e).forEach(function(e){_(e,t)}):(t&&e.setAttribute(u,""),e.setAttribute(d,""))}function v(r,t){if(r&&0!==r.length){if(r&&r.length)return Array.from(r).forEach(function(e){v(e,t)});var i={};return t.forEach(function(e){var t=e.sourceId,n=r.getAttribute(s)===t?r:r.querySelector("["+s+'="'+t+'"]')?r.querySelector("["+s+'="'+t+'"]'):r.parentNode.getAttribute(s)===t?r.parentNode:null;n&&("innerText"===e.args?i[e.name]=n.innerText:i[e.name]=n.getAttribute(e.args))}),r.setAttribute(p,JSON.stringify(i))}}function y(o,a,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(o,a||[])).next())})}function w(n,r){var i,o,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var S;S=-1<location.host.indexOf("dev")||-1<location.href.indexOf("localhost")?"https://thor.daily.weidian.com/vda/spider.getSpiderInfo/1.0":-1<location.host.indexOf("daily")?"https://thor.daily.weidian.com/vda/spider.getSpiderInfo/1.0":-1<location.host.indexOf("pre")?"https://thor.pre.weidian.com/vda/spider.getSpiderInfo/1.0":"https://thor.weidian.com/vda/spider.getSpiderInfo/1.0";function b(s){return y(this,void 0,void 0,function(){var t,n,r,i,o,a;return w(this,function(e){switch(e.label){case 0:t=0,n=s,e.label=1;case 1:if(!(t<n.length))return[3,11];switch(r=n[t],r.type){case"childList":return[3,2];case"subtree":return[3,8]}return[3,9];case 2:return e.trys.push([2,7,,8]),0<r.addedNodes.length?Array.from(r.addedNodes).some(function(e){return 1===e.nodeType&&!e.classList.contains("vda-shade")})?(i=f(),this.cachedMeta.spma===i.spma&&this.cachedMeta.spmb===i.spmb?[3,4]:(this.cachedMeta=i,[4,(o=this).getSpiderInfo(i.spma,i.spmb)])):[3,5]:[3,6];case 3:o.cachedSpmList=e.sent(),e.label=4;case 4:this.setSpiders(this.cachedSpmList),e.label=5;case 5:return[3,10];case 6:return[3,8];case 7:return a=e.sent(),console.error("observer error",a),[3,8];case 8:case 9:return[3,10];case 10:return t++,[3,1];case 11:return[2]}})})}var E=E||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},x={observerConfig:{attributes:!1,childList:!0,subtree:!0},init:function(){return y(this,void 0,void 0,function(){var t,o,a,s;return w(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.cachedMeta=f(),[4,(o=this).getSpiderInfo(t.spma,t.spmb)];case 1:return o.cachedSpmList=e.sent(),this.setSpiders(this.cachedSpmList),n=b,100,i=null,a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i&&clearTimeout(i),i=setTimeout(function(){n.apply(r,e)},100)},(r=this).observer=new MutationObserver(a),this.observer.observe(document.body,this.observerConfig),[3,3];case 2:return s=e.sent(),console.error("init error",s),[3,3];case 3:return[2]}var n,r,i})})},setSpiders:function(e){if(e&&Array.isArray(e)){var o=0,a=e.slice();E(function e(t){for(;o<a.length;o++){var n=a[o];if(!(0<t.timeRemaining())){E(e);break}var r=(i=n.sourceId,(void 0||document).querySelectorAll("["+s+'="'+i+'"]'));n.spmc&&h(r,n.spmc),n.spmd&&g(r),n.actionName&&m(r,n.actionName),1===n.actionType&&_(r),n.actionArgInfo&&v(r,JSON.parse(n.actionArgInfo))}var i})}},getSpiderInfo:function(a,s){return y(this,void 0,void 0,function(){var t,n;return w(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(r=S,i={spma:a,spmb:s},o=new XMLHttpRequest,new Promise(function(e,t){if(o.onreadystatechange=function(){4==o.readyState&&(200<=o.status&&o.status<300||304==o.status?e(JSON.parse(o.responseText)):t(o.status))},"object"==typeof i){r+="?";var n=[];Object.keys(i).forEach(function(e){n.push(e+"="+i[e])}),r+=n.join("&")}o.open("get",r,!0),o.send(null)}))];case 1:return[2,(t=e.sent())&&t.result];case 2:return n=e.sent(),console.error(n),[3,3];case 3:return[2]}var r,i,o})})}};t.default=x}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r},e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(24),c=n(25),u=n(26),l=n(28);t.Url=l.default,t.setQuerystring=function(e,t,n){var r=s.GLOBAL.location.href;u.default.isObject(e)&&(n=t,t=e,e=r),u.default.isUndef(e)&&(e=r),n=Object.assign({replace:!0},n);var i=new l.default(e);if(n.replace)i.query=Object.assign(i.query||{},t);else{var o=c.stringify(t);if(o){var a=-1===i.search.indexOf(s.SEARCH_DELIMIT)?s.SEARCH_DELIMIT:s.PARAM_DELIMIT;i.search+=a+o}}return i.toString()},t.getQuerystring=function(e){return u.default.isUndef(e)&&(e=s.GLOBAL.location.href),c.parse(e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_DELIMIT="?",t.PARAM_DELIMIT="&",t.PARAM_VALUE_DELIMIT="=",t.HASH_DELIMIT="#",t.GLOBAL=window},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=n(24),r=/^[^\?#]*\?([^#]*)/;function i(e){return encodeURIComponent(e).replace(/%20/g,"+")}function s(e){return decodeURIComponent(e).replace(/\+/g," ")}t.parse=function(e){var t=(e=function(e){var t;return e&&(t=e.match(r))&&t[1]||""}(e)).split(a.PARAM_DELIMIT),i={};return t.forEach(function(e){if(e){var t=e.split(a.PARAM_VALUE_DELIMIT),n=t[0],r=t[1]||"";n&&(n=s(n),r=s(r),o.default.hasOwn(i,n)?(o.default.isArray(i[n])||(i[n]=[i[n]]),i[n].push(r)):i[n]=r)}}),i},t.stringify=function(e){if(!o.default.isObject(e))return"";var n=[];return o.default.forEach(e,function(e,t){o.default.isUndef(e)||(o.default.isArray(e)||(e=[e]),t=i(t),e.forEach(function(e){n.push(""+t+a.PARAM_VALUE_DELIMIT+i(e))}))}),n.join(a.PARAM_DELIMIT)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.default=r},function(e,t){"use strict";function n(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function a(e){return n("Array")(e)}function s(e){return n("Boolean")(e)}function c(e){return n("Object")(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){if(a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else if(c(e))for(var i in e)o(e,i)&&t.call(null,e[i],i,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.isUndef=function(e){return null==e},t.isEmpty=function(e){return null==e||""===e},t.isNumber=function(e){return n("Number")(e)},t.isString=function(e){return n("String")(e)},t.isError=function(e){return n("Error")(e)},t.isArray=a,t.isFunction=function(e){return n("Function")(e)},t.isDate=function(e){return n("Date")(e)},t.isBoolean=s,t.isObject=c,t.isWideObject=function(e){return null!==e&&"object"==typeof e},t.isFormData=function(e){return"undefined"!=typeof FormData&&e instanceof FormData},t.isURLSearchParams=function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},t.hasOwn=o,t.forEach=u,t.merge=function n(e){for(var r,i,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return i=s(e)?(r=e,t.shift()):e,u(t,function(e){u(e,function(e,t){r&&(a(e)||c(e))?(a(e)?a(i[t])||(i[t]=[]):c(i[t])||(i[t]={}),n(r,i[t],e)):i[t]=e})}),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),i=n(25),o=n(24),a="query",s=["hash","host","hostname","pathname","port","protocol"],c=["href","search"],u=["origin"],l=Object.defineProperty;function d(e,t){return e===a?r.default.isObject(t):r.default.isString(t)||r.default.isNumber(t)}function p(e){var t=i.stringify(e);return(t?o.SEARCH_DELIMIT:"")+t}var f=(h.prototype.toString=function(){return this.href},h);function h(e){r.default.isEmpty(e)&&(e=o.GLOBAL.location.href);var t=this._element=o.GLOBAL.document.createElement("A");t.href=e,function(e,n){s.forEach(function(t){l(e,t,{get:function(){return n[t]},set:function(e){d(t,e)&&(n[t]=e)},enumerable:!0})})}(this,this._element),function(e,n){c.forEach(function(t){l(e,t,{get:function(){return n.search=p(n[a]),n[t]},set:function(e){d(t,e)&&(n[t]=e,n[a]=i.parse(n.search))},enumerable:!0})})}(this,this._element),function(e,t){var n;l(e,n=a,{get:function(){return e.search=p(t[n]),t[n]},set:function(e){d(n,e)&&(t[n]=e)},enumerable:!0})}(this,this._element),function(t,n){u.forEach(function(e){l(t,e,{get:function(){return n[e]},enumerable:!0})})}(this,this._element),this.href=t.href}t.default=f},function(e,t,n){"use strict";var m=n(2),s=m._sha1,g=n(7),_=n(30),v=m._console,y=n(23),w=n(8),S={},b="share_relation",E="share_click",x="share_first",T="share_reshare";S.version="1.0.9",S.share=m._noop,S.getShareUrl=m._noop,S.successTrack=m._noop,S.init=function(r){var l=-1!=location.search.indexOf("share_debug");function d(e,t,n){r.report("pathtracker",e,m._normalizeReportData(t),n)}function c(e){var t=(window.location.search||"?").replace("?","");return e?m._queryStringParse(t)[e]||null:m._queryStringParse(t)}function u(e){var t=e.split("_");return{share_id:t[0]||"",share_buyer_id:t[1]||"",share_level:t[2]||""}}function p(){try{var e=g(),t=new Date;return s((navigator.userAgent||"")+t.getTime()+Math.random()+e).slice(0,16)}catch(e){return""}}var f="";function i(t){try{if(!t)return"";var e,n=c(b),r=m._getCookie("uid")||m._getCookie("WD_b_id")||"",i="",o="";if(n){var a=u(n);i=a.share_id,o=parseInt(a.share_level||0)+1}else i=p(),f=i,o=1;e=[i,r,o].join("_");var s={};return s[b]=e,y.setQuerystring(t,s)}catch(e){return t}}function h(e){try{var t=c(b),n=m._getMetaFromDom(),r=t?u(t):null,i="";return n.spma&&n.spmb&&(i=n.spma+"."+n.spmb),e==E?t?{share_id:r.share_id,page_id:i,share_buyer_id:r.share_buyer_id,share_channel:function(){var e=c("wfr");return e||"unknown"}(),click_buyer_id:m._getCookie("uid")||m._getCookie("WD_b_id")||"",click_seller_id:m._getCookie("sid")||m._getCookie("WD_s_id")||"",share_level:parseInt(r.share_level),gmt_action:Date.now().toString(),business_type:null,business_id:null}:{}:e==x?{share_id:f||p(),page_id:i,share_buyer_id:m._getCookie("uid")||m._getCookie("WD_b_id")||"",share_seller_id:m._getCookie("sid")||m._getCookie("WD_s_id")||"",share_level:1,gmt_action:Date.now().toString(),business_type:null,business_id:null}:e==T?{share_id:r.share_id,page_id:i,share_buyer_id:r.share_buyer_id,reshare_buyer_id:m._getCookie("uid")||m._getCookie("WD_b_id")||"",reshare_seller_id:m._getCookie("sid")||m._getCookie("WD_s_id")||"",share_level:parseInt(r.share_level||0)+1,gmt_action:Date.now().toString(),business_type:null,business_id:null}:{}}catch(e){return v.log(e),{}}}function o(e){try{var t,n=c(b);if(e=e||"unknown",n)(t=h(T)).reshare_channel=e,l&&v.log("share_reshare:",t),d(T,t);else(t=h(x)).share_channel=e,l&&v.log("share_first:",t),d(x,t)}catch(e){}}!function(){try{if(w.isMiniProgram())return;if("true"!=m._getCookie("is_login")&&w.isWeiXin()&&m._listDisabledAuto().indexOf("silentlogin")<0){var e=location.href,t=location.hash,n=navigator.userAgent,r=/Android/.test(n),i=m._queryStringParse(location.search);if(""!==t&&r){var o=i.slr||"";i.slr=m._generateToken(o,4)}else i.slr&&delete i.slr;var a=m._queryStringStringify(i);e=location.href.replace(/(\?|#)[\S]*$/,"")+"?"+a+t;var s=m._get2ndLevelDomain(location.hostname);if(m._isWDHost()){var c="https://sso.weidian.com/user/synclogin";null!==location.host.match(/\.daily\./)&&(c="https://sso-daily.test.weidian.com/user/synclogin"),null!==location.host.match(/\.pre\./)&&(c="https://sso-pre.test.weidian.com/user/synclogin"),e=c+"?type="+s+"&redirect="+encodeURIComponent(e)}var u="https://sso.weidian.com/user/oauth/wechat/silentlogin?redirect=";null!==location.host.match(/\.daily\./)&&(u="https://sso-daily.test.weidian.com/user/oauth/wechat/silentlogin?redirect="),null!==location.host.match(/\.pre\./)&&(u="https://sso-pre.test.weidian.com/user/oauth/wechat/silentlogin?redirect="),location.href=u+encodeURIComponent(e)}else window.addEventListener("DOMContentLoaded",function(e){!function(){try{var e=h(E);l&&v.log("share_click:",e),0!=Object.keys(e).length&&d(E,e)}catch(e){v.log(e)}}()})}catch(e){v.log(e)}}(),S.version="1.0.9";var a=_.prototype.resetUserConfig;_.prototype.resetUserConfig=function(e,t){if(e.url){var n=e.url;e.url=i(n)}a.call(this,e,t)},S.share=function(e){try{var t=(e=e||{}).config.url;if(t&&(e.config.url=i(t)),"object"==typeof e.option){var n=e.option.wxSuccessCb;e.option.wxSuccessCb=function(e,t){o(e),n&&"function"==typeof n&&n(e,t)}}else e.option={wxSuccessCb:function(e){o(e)}};return new _(e)}catch(e){v.log(e)}},S.share.CONSTANT={CHATS:"1",MOMENT:"2",QQ:"3",QZONE:"4",WEIBO:"5"},S.getShareUrl=i,S.successTrack=o},e.exports=S},function(e,t,n){var r;r=function(){var c=n(3),u=n(5),s=n(2);n(31)();var l={qq:"qfriendh5",qzone:"qzoneh5",chats:"wxh5",moments:"wxph5"};function e(n){var r=this;this.errorFn=null,c().ready(function(e,t){t?r.errorFn&&r.errorFn():(r._setShareOption(n.option),r._setUserConfig(n.config,r._initShareDOM))})}var r={vbuyerShare:!0,wdShare:!0,scene:[1,2,3,4,5],prependHtml:"",wxShareTipImge:"",wxSuccessCb:null,appSuccessCb:null,hideMenuItems:[],showMenuItems:[],momentMode:0,panel:[1]};e.prototype.direct=function(e){u.isQQBrowser?this._shareInQQBrowser(e):u.isApp?this._showNativeShare(e):this.showPanel()},e.prototype.sharePyq=function(){this.share("moments")},e.prototype.shareChats=function(){this.share("chats")},e.prototype.shareQZone=function(){this.share("qzone")},e.prototype.shareQQ=function(){this.share("qq")},e.prototype.resetShareOption=function(t){t.showMenuItems||(t.showMenuItems=r.showMenuItems),t.hideMenuItems||(t.hideMenuItems=r.hideMenuItems);var n=this;c().ready(function(){var e=a(t,n.option);n._setShareOption(e),n._initShareDOM(!0),u.isWx&&n._setWXMenuEvent()})},e.prototype.resetUserConfig=function(n,r,i){var o=this;"function"==typeof r&&(i=r,r=!1),c().ready(function(e){var t=a(n,o.config);o._setUserConfig(t,function(){u.isWx&&o._setWXMenuEvent(),u.isVbuyer&&void 0!==window.KDJSBridge2&&o.option.vbuyerShare&&!r&&o._showVbuyerShare(),u.isWD&&void 0!==window.KDJSBridge2&&o.option.wdShare&&!r&&o._showWDShare(),"function"==typeof i&&i()})})},e.prototype.showPanel=function(){var n=this,r=n.config,i=null;return c().ready(function(e,t){t?i&&i():!1!==n.option.isInApp?n._showNativeShare():n.option.$dom?(n.option.$dom.style.display="block",document.body.classList.add("ui-share__hidden"),document.querySelector(".copy-href")&&(document.querySelector(".copy-href").value=r.url)):setTimeout(function(){n.option.$dom.style.display="block",document.body.classList.add("ui-share__hidden"),document.querySelector(".copy-href")&&(document.querySelector(".copy-href").value=r.url)},300)}),{catch:function(e){"function"==typeof e&&(i=e)}}},e.prototype.catch=function(e){return"function"==typeof e?this.errorFn=e:console.log("错误处理必须为函数"),this},e.prototype._setShareOption=function(e){var t={};t.isInApp=u.isApp,e&&void 0!==e.vbuyerShare?t.vbuyerShare=e.vbuyerShare:t.vbuyerShare=r.vbuyerShare,e&&void 0!==e.wdShare?t.wdShare=e.wdShare:t.wdShare=r.wdShare,e&&void 0!==e.scene&&0<e.scene.length?t.scene=e.scene:t.scene=r.scene,e&&void 0!==e.panel&&0<e.panel.length?t.panel=e.panel:t.panel=r.panel,t.wxShareTipImge=e&&e.wxShareTipImge||r.wxShareTipImge,t.wxSuccessCb=e&&e.wxSuccessCb||r.wxSuccessCb,t.appSuccessCb=e&&e.appSuccessCb||r.appSuccessCb,t.hideMenuItems=e&&e.hideMenuItems||r.hideMenuItems,t.showMenuItems=e&&e.showMenuItems||r.showMenuItems,t.momentMode=e&&e.momentMode||r.momentMode,t.$dom=this.option&&this.option.$dom,t.prependHtml=e&&void 0!==e.prependHtml?e.prependHtml:r.prependHtml,this.option=t};var d=[];e.prototype._setUserConfig=function(e,n){var t=!1,r=null!==document.body.getAttribute("data-vcollect-multidomain");(this.config&&this.config.url||"")!==(e.url||"")&&r&&(t=!0);var i=this;this.config={};var o=e;if(o.pyq=o.pyq||o.title,0<Object.getOwnPropertyNames(o).length)for(var a in o)this.config[a]=o[a];if(t){var s=+new Date;return d.push(s),c().block(),void this._getDomianFixedUrl(function(e){if(!(0===d.length||d.indexOf(s)<0)){s===d[d.length-1]&&(d=[]);var t="";e&&e.status&&0===e.status.code&&(t=e.result&&e.result.mpId,i.config.url=e.result&&e.result.shareUrl),c().reset(t).ready(function(){n.call(i)})}})}n&&n.call(i)},e.prototype._getDomianFixedUrl=function(t){var e=this.config.url,n="https://thor.weidian.com/skittles/share.getUrlNew/1.0";null!==location.host.match(/\.daily\./)&&(n="https://thor.daily.weidian.com/skittles/share.getUrlNew/1.0",e=e.replace(/^https/,"http")),null!==location.host.match(/\.pre\./)&&(n="https://thor.pre.weidian.com/skittles/share.getUrlNew/1.0",e=e.replace(/^https/,"http")),s._post({url:n,data:{param:s._JSONStringifySafty({shareUrl:e,originUrl:location.href})},timeout:800,success:function(e){t&&t(e)},error:function(e){t&&t(e)}})},e.prototype._initShareDOM=function(e){var t=this.option;if(e)return u.isQQ||u.isWx?t.$dom.innerHTML=this._renderShareTip():u.isQQBrowser?t.$dom.innerHTML=this._renderSharePanel():t.$dom.innerHTML=this._renderCopyPanel(),void this._bindEvent();var n=document.createElement("div");n.id="ui-share-box",n.style.display="none",n.dataset.spider="share",this.option.$dom=n,u.isQQ?(n.innerHTML=this._renderShareTip(),this._initQQShare()):u.isWx?(n.innerHTML=this._renderShareTip(),this._setWXMenuEvent()):u.isQQBrowser?n.innerHTML=this._renderSharePanel():t.isInApp?this._showCornerShare():n.innerHTML=this._renderCopyPanel(),document.body.appendChild(n),this._bindEvent()},e.prototype._initQQShare=function(){var e={title:this.config.title,desc:this.config.content,share_url:p(this.config.url,"qfriendh5"),image_url:this.config.img};window.mqq.data.setShareInfo(e)},e.prototype._setWXMenuEvent=function(){window.wx&&(window.wx.onMenuShareAppMessage(this._setWeixinConfig("chats")),window.wx.onMenuShareTimeline(this._setWeixinConfig("moments")),window.wx.onMenuShareQQ(this._setWeixinConfig("qq")),window.wx.onMenuShareQZone(this._setWeixinConfig("qzone")),0<this.option.hideMenuItems.length&&window.wx.hideMenuItems(this._setMenuItem(this.option.hideMenuItems)),0<this.option.showMenuItems.length&&window.wx.showMenuItems(this._setMenuItem(this.option.showMenuItems)))},e.prototype._setMenuItem=function(e){var t=[],n=e.indexOf("share");-1<n&&([].push.apply(t,["menuItem:share:appMessage","menuItem:share:timeline","menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone"]),e.splice(n,1));var r=e.indexOf("protect");return-1<r&&([].push.apply(t,["menuItem:editTag","menuItem:delete","menuItem:copyUrl","menuItem:originPage","menuItem:readMode","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:share:email"]),e.splice(r,1)),[].push.apply(t,e),0<t.length?{menuList:t}:{}},e.prototype._setWeixinConfig=function(n){var r=this,i={chats:{title:"分享给微信好友",scene:1},moments:{title:"分享到朋友圈",scene:2},qq:{title:"分享给qq好友",scene:3},qzone:{title:"分享到qq空间",scene:4}},o=l[n],t=p(r.config.url,o),e={title:r.config.title,desc:r.config.content,link:t,imgUrl:r.config.img,trigger:function(e){window.spider&&window.spider.trackAction({actionName:"_share",actionArgs:{app:"wechat",channel:i[n].title.slice(3),shareUrl:t}})},success:function(e){var t={error:!1,result:{message:"success",scene:i[n].scene}};r.option.wxSuccessCb&&r.option.wxSuccessCb(o,t)}};return n&&"moments"===n&&(delete e.desc,"moments"===n&&(e.title=r.config.pyq)),e},e.prototype._renderShareTip=function(){return'<a href="javascript:;" class="ui-share__placeholder J_closed"></a><a href="javascript:;" class="ui-share--weixin J_closed"><img src="'+(this.option.wxShareTipImge?this.option.wxShareTipImge:"https://si.geilicdn.com/110c5d9454010c64fc4366d75230a729.png")+'"></a>'},e.prototype._renderSharePanel=function(){var e="",t=this.option.scene;return 0<=t.indexOf(1)&&(e+='<a href="javascript:;" class="ui-share--icon J_channel" scene="0" type="weixin" channel="chats" spm-auto data-spider="dsharechats"><img src="https://si.geilicdn.com/hz_img_032100000158d24945100a02685e_48_48_unadjust.png"><p>微信好友</p></a>'),0<=t.indexOf(2)&&(e+='<a href="javascript:;" class="ui-share--icon J_channel" scene="1" type="weixin" channel="moments" spm-auto data-spider="dsharemoments"><img src="https://si.geilicdn.com/hz_img_033300000158d26282d20a02685e_48_48_unadjust.png"><p>朋友圈</p></a>'),0<=t.indexOf(3)&&(e+='<a href="javascript:;" class="ui-share--icon J_channel" type="qq" scene="0" channel="qq" spm-auto data-spider="dshareqq"><img src="https://si.geilicdn.com/hz_img_136f00000158d26814dc0a026860_48_48_unadjust.png"><p>QQ好友</p></a>'),0<=t.indexOf(4)&&(e+='<a href="javascript:;" class="ui-share--icon J_channel" type="qq" scene="1" channel="qzone" spm-auto data-spider="dshareqzone"><img src="https://si.geilicdn.com/hz_img_030900000158d22b05690a02685e_48_48_unadjust.png"><p>QQ空间</p></a>'),'<a href="javascript:;" class="ui-share__placeholder J_closed"></a><section class="ui-share"><div class="ui-share--panel">'+this.option.prependHtml+e+'</div><a href="javascript:;" class="ui-share--closed J_closed">取消</a></section>'},e.prototype._renderCopyPanel=function(){return'<a href="javascript:;" class="ui-share__placeholder J_closed"></a><section class="ui-share"><div class="ui-share--panel"><div class="ui-share-copy"><p>长按复制下方链接，去粘贴给好友吧</p><input class="copy-href" type="text"></div></div><a href="javascript:;" class="ui-share--closed J_closed">取消</a></section>'};var t=!(e.prototype._showCornerShare=function(){var e=this;u.isVbuyer&&e.option.vbuyerShare?(e._registerVbuyerShareCallback(),e._showVbuyerShare()):u.isWD&&e.option.wdShare&&e._showWDShare()});function a(n){return[].slice.call(arguments,1).forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}),n}function p(e,t){var n=s._urlParse(e),r=n.hash,i=s._queryStringParse(location.search).wfr;i?Object.keys(l).forEach(function(e){var t=l[e];i=i.replace("_"+t,"")}):i="h5direct";var o=s._queryStringParse(n.search);o.wfr=i+"_"+t;var a=s._queryStringStringify(o);return e.replace(/(\?|#)[\S]*$/,"")+"?"+a+r}return e.prototype._registerVbuyerShareCallback=function(){var r=this;!t&&window.KDJSBridge2&&window.KDJSBridge2.FN_registerHandler("share","nativeShareResult",function(e){var t={param:e,bridgeParam:{status:{status_code:0,status_reason:""}}},n=r._logAfterNativeShare(t);r.option.appSuccessCb&&r.option.appSuccessCb(e,n)}),t=!0},e.prototype._showVbuyerShare=function(){var e=this.config,t=this.option,n={panelList:this._setNativePanel(),userInfo:{from:"h5",wdFriendTitle:e.title,wdFriendSubTitle:e.content,utInfo:{}}};e.header&&(n.headerInfo=e.header),window.KDJSBridge2&&window.KDJSBridge2.call("Share","showOption",{title:e.title,content:e.content,content_ext:e.pyq,url:e.img,cmd:e.url,scene:t.scene,src:location.href,newShare:n,h5ShareContext:{}},function(e){e&&e.param&&0!=e.param.result&&window.vcollect&&window.vcollect.reportError({abstract:"webview 右上角唤起失败",url:location.href})})},e.prototype._showWDShare=function(){var n=this,e=this.config,t=this.option;window.KDJSBridge2&&window.KDJSBridge2.call("WDJSBridge","share",{title:e.title,content:e.content,content_ext:e.pyq,url:e.img,cmd:e.url,mini_path:e.path,mini_id:e.id,mini_withShareTicket:"1",mini_programType:e.miniType,img_urls:e.img_urls,moments_mode:t.momentMode,scene:t.scene,action_immediately:0,copy_url:e.copyUrl},function(e){var t=n._logAfterNativeShare(e);n.option.appSuccessCb&&n.option.appSuccessCb(e,t)})},e.prototype._bindEvent=function(){for(var t=this,e=document.querySelectorAll(".J_closed"),n=document.querySelectorAll(".J_channel"),r=!1,i=0;i<e.length;i++)e[i].addEventListener("click",function(){r=!1,t.option.$dom.style.display="none",document.body.classList.remove("ui-share__hidden")});for(var o=0;o<n.length;o++)n[o].addEventListener("click",function(){if(1!=r){var e=this.getAttribute("channel");t._shareInQQBrowser(e),r=!0,setTimeout(function(){r=!1},5e3)}})},e.prototype._shareInQQBrowser=function(e){var t=this.config,n={qq:4,qzone:3,chats:1,moments:8}[e],r=l[e],i={url:p(t.url,r),title:t.title,description:t.content,img_url:t.img,to_app:n};8==n&&(i.title=t.pyq),browser.app.share(i)},e.prototype._showNativeShare=function(e){var n=this,i=this.config,r=this.option;if(u.isVbuyer){var t={panelList:this._setNativePanel(e),userInfo:{from:"h5",wdFriendTitle:i.title,wdFriendSubTitle:i.content,utInfo:{}}};i.header&&(t.headerInfo=i.header),window.KDJSBridge2&&window.KDJSBridge2.call("WDJSBridge","share",{title:i.title,content:i.content,content_ext:i.pyq,url:i.img,cmd:i.url,mini_path:i.path,mini_id:i.id,mini_withShareTicket:"1",mini_programType:i.miniType,img_urls:i.img_urls,moments_mode:r.momentMode,scene:r.scene,copy_url:i.copyUrl,newShare:t},function(e){var t=n._logAfterNativeShare(e);r.appSuccessCb&&r.appSuccessCb(e,t)})}if(u.isWD){function o(e){var t=function(e){var t={title:"weChatMoment"===e?i.pyq:i.title,url:i.url,des:i.content,imageUrl:i.img};return"weChatMiniProgram"===e&&(t.id=i.id,t.environment=0,t.path=i.path,t.shareTicket="yes"),t}(e),n={};for(var r in t)n[r]=t[r];return n.type=e,n}var a=[{scene:1,title:"微信好友",iconName:"1",shareParams:o("weChat")},{scene:2,title:"微信朋友圈",iconName:"3",shareParams:o("weChatMoment")},{scene:3,title:"QQ好友",iconName:"5",shareParams:o("qq")},{scene:4,title:"QQ空间",iconName:"6",shareParams:o("qzone")},{scene:5,title:"微博",iconName:"7",shareParams:o("weibo")},{scene:6,title:"复制链接",iconName:"15",shareParams:o("copy")},{scene:15,title:"微店群聊",iconName:"9",shareParams:o("imGroup")},{scene:99,title:"保存图片",iconName:"12",shareParams:o("saveImage")},{scene:201,title:"微信好友",iconName:"1",shareParams:o("weChatImage")},{scene:202,title:"微信朋友圈",iconName:"3",shareParams:o("weChatMomentImage")},{scene:203,title:"微信小程序",iconName:"1",shareParams:o("weChatMiniProgram")}],s=[];r.scene.forEach(function(t){a.forEach(function(e){e.scene===t&&s.push(e)})}),window.KDJSBridge2&&window.KDJSBridge2.call("service","SharePopupViewService",{shares:[{items:s}]},function(e){var t=n._logAfterNativeShare(e);r.appSuccessCb&&r.appSuccessCb(e,t)})}},e.prototype._setNativePanel=function(r){var e=this.config,i=this.option,t=[{panelType:1,desc:"链接分享",content:{url:e.url,title:e.title,content:e.content,imageUrl:e.img,scene:i.scene.join("_"),path:e.path||"",userName:e.id||"",videoUrl:""}},{panelType:2,desc:"海报分享",content:{postList:[{postType:0,desc:"纯图片海报",content:{img:e.posterUrl}}],scene:i.scene.join("_")}},{panelType:3,desc:"文本分享",content:{text:e.text,scene:i.scene.join("_")}}],n=t.filter(function(e){return-1<i.panel.indexOf(e.panelType)}),o=n.map(function(e){return e.panelType});return 0===o.length&&(n=t[0]),n.forEach(function(t){var e=o.filter(function(e){return e!==t.panelType}).map(function(e){return"10"+e}),n=i.scene.concat(e).join("_");t.content.scene=n,r&&(1!==t.panelType&&3!==t.panelType||(t.content.directScene=r))}),n},e.prototype._logAfterNativeShare=function(e){var t=this.config;if(e&&e.bridgeParam&&e.bridgeParam.status&&0!=e.bridgeParam.status.status_code)return window.vcollect&&window.vcollect.reportError({abstract:"jsbridge分享面板唤起失败",app:u.name,url:location.href}),{error:!0,result:{message:"jsbridge分享面板唤起失败"}};if(!e||!e.param||0!=e.param.result&&0!=e.param.code)return{error:!1,result:{message:"用户取消分享",scene:-1}};var n="";return u.isWD&&(window.pathTracker&&window.pathTracker.successTrack(),n={weChat:1,weChatMoment:2,qq:3,qzone:4,weibo:5,saveImage:99,weChatImage:201,weChatMomentImage:202,weChatMiniProgram:203}[e.param.originParams&&e.param.originParams.type]),u.isVbuyer&&(n=e.param.type),window.spider&&window.spider.trackAction({actionName:"_share",actionArgs:{app:u.name,channel:n||"unknow",shareUrl:t.url}}),{error:!1,result:{message:"success",scene:n}}},e},void 0!==e&&e.exports?e.exports=r():window.ShareV2=r()},function(e,t){e.exports=function(){var e=devicePixelRatio,t=document.querySelector('meta[name="viewport"]'),n=t&&t.getAttribute("content").match(/initial\-scale=([\d\.]+)/),r=n&&n[1]||e,i="ui-share-box{display:none}#ui-share-box a{text-decoration:none}.ui-share__placeholder{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:10}.ui-share__hidden{overflow:hidden}.ui-share--weixin{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10}.ui-share--weixin>img{width:100%}.ui-share{width:100%;position:fixed;left:0;top:0;background:#ededed;overflow:hidden;z-index:999}.ui-share--panel{background:#fff;font-size:0;text-align:center}.ui-share--icon:nth-of-type(5n){margin-top:0}.ui-share--icon{width:25%;display:inline-block;text-align:center;margin-top:19.2px;margin-bottom:19.2px}.ui-share--icon>img{width:80px}.ui-share--icon>p{font-size:25.6px;color:#222;margin-top:6.4px}.ui-share--closed{background:#fff;font-size:"+20*r+"px;text-align:center;padding:"+12*r+"px 0;color:#ee3431;display:block;margin-top:12.8px}.ui-share--tips{margin:0;background:#fff;font-size:25.6px;color:#bbb;text-align:center;padding:9.6px 0}.ui-share-copy{padding:"+12*r+"px;overflow:hidden;text-align:left}.ui-share-copy>input{font-size:"+16*r+"px;padding:"+5*r+"px;width:90%;border:1px solid #ccc}.ui-share-copy>p{font-size:"+16*r+"px;color:#222;margin:0 0 16px}",o=document.createElement("style");o.innerHTML=i,document.head.appendChild(o)}},function(e,t,n){"use strict";var s=n(2),c={},u=["message","url","name"],l={message:"some error happend, but no message",url:location.href,name:"__UNDEF__"},d=window.performance&&window.performance.getEntries&&"function"==typeof window.performance.getEntries&&window.performance.getEntries()instanceof Array,p=/\/\/thor\.(daily\.|pre\.)?weidian\.com/;c.error=s._noop,c.warn=s._noop,c.info=s._noop,c.debug=s._noop,c.report=s._noop,c.setError=s._noop,c._erroCode={">":null,">=":null,"<":null,"<=":null,"=":null,"!=":[0]};function f(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}var h=function(e){return"[object Array]"!==Object.prototype.toString.call(e)&&"object"==typeof e},m=function(e){return"[object Array]"===Object.prototype.toString.call(e)};c.init=function(n,e){d&&"function"==typeof performance.getEntriesByName&&e.auto&&setTimeout(function(){(function(){var e=document.querySelectorAll("script")||[],t=document.querySelectorAll("link")||[];t=[].filter.call(t,function(e){return"stylesheet"===e.rel&&""!==e.href}),e=[].filter.call(e,function(e){return e&&""!==e.src}),e=[].map.call(e,function(e){return e.src}),t=[].map.call(t,function(e){return e.href});var n=[].concat(e,t),r=[];return n.forEach(function(e){0===performance.getEntriesByName(e).length&&r.push(e)}),r})().forEach(function(e){o({name:"__ASSETS_ERROR__",url:e,message:"assets loaded error"})})},5e3);function t(e){c.isNotValidConfig||a("warn",e)}var r,i=n.getReportUrl(),o=function(e){c.isNotValidConfig||a("error",e)};function a(e,t){"string"==typeof(t=t||{}).detail&&(t.detail={userReportDetail:t.detail}),s._getNetwork(function(e){s._extendObj(t.detail,{network:e})}),n.report("log",e,function(t){u.forEach(function(e){""!==t[e]&&void 0!==t[e]||(t[e]=l[e])});var n=t.detail||{};s._isObjectAndNotNull(n)&&Object.keys(n).forEach(function(e){""===n[e]&&(n[e]=null)});var e=t.url||location.href;return t.url=function(e){if(/\?\?/.test(e))return e.replace(/#\S+,/,",").replace(/#\S+$/,"");return e.replace(/[#\?]\S+$/,"")}(e),n.originalUrl=e,t.detail=n,t}(t))}e.auto&&((r=XMLHttpRequest.prototype)._open=r.open,r.open=function(e,t){return this._http=this._http||{},this._http.method=e,this._http.url=t,r._open.apply(this,[].slice.call(arguments))},r._send=r.send,r.send=function(){return function(e){return 0<=e.indexOf(i)}(this._http.url)||function(i){var e=i._http.url;i.addEventListener("load",function(){var e={},t="",n=i._http.url;if(p.test(n)&&(t=i.getResponseHeader&&i.getResponseHeader("x-trace-id")),i.response&&(e=s._JSONParseSafty(i.response)),e){if("string"==typeof e)return void o({name:"__XHR__",url:n,message:"status_code_error",detail:{traceId:t||"",status:i.status,response:e}});var r=e.status&&e.status.code;r=void 0===r?e.status&&e.status.status_code:r,function(e,t){return!!(e[">"]&&t>e[">"]||e[">="]&&t>=e[">="]||e["<"]&&t<e["<"]||e["<="]&&t<=e["<="]||(n=t,r=!1,m(e["="])&&f(e["="],function(e){r||n===e&&(r=!0)}),r||(i=t,o=!1,m(e["!="])&&f(e["!="],function(e){o||i!==e&&(o=!0)}),o)));var n,r,i,o}(c._erroCode,r)&&o({name:"__XHR__",url:n,message:"response_code_error",detail:{traceId:t||"",status:200,response:s._JSONStringifySafty(e)}})}}),i.addEventListener("error",function(){o({name:"__XHR__",url:e,message:"network_error"})}),i.addEventListener("abort",function(){t({name:"__XHR__",url:e,message:"abort"})}),i.addEventListener("timeout",function(){o({name:"__XHR__",url:e,message:"timeout"})})}(this),r._send.apply(this,[].slice.call(arguments))},window.addEventListener("error",function(e){var t=e.error;o(t?{message:t.message,url:e.filename,name:"__WINDOW_ERROR__",detail:{stack:t.stack,lineno:e.lineno,colno:e.colno}}:{message:"error_in_script",url:location.href,name:"__SCRIPT_ERROR__",detail:{stack:'[vcollect] 浏览器未给出错误详情，请开发者在 <script> 标签上加上 crossorigin="anonymous" 属性以获取错误详情'}})}),window.addEventListener("unhandledrejection",function(e){e.reason&&h(e.reason)&&o({message:e.reason.message,url:"",name:"__UNHANDLEDREJECTION_ERROR__",detail:{stack:e.reason.stack}})})),c.error=o,c.warn=t,c.info=function(e){c.isNotValidConfig||a("info",e)},c.debug=function(e){c.isNotValidConfig||a("debug",e)},c.report=function(e){e&&"object"==typeof e||(e={});var t={message:e.abstract||"[vcollect] 开发者没有提供错误摘要",url:e.url,name:"__USER_REPORT_ERROR__",detail:e.detail||"[vcollect] 开发者没有提供错误详情"};o(t)},c.isNotValidConfig=!1,c.setError=function(e){}},e.exports=c}]);
//# sourceMappingURL=index.js.map
