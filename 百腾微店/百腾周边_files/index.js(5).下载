window.ShopSku=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="//assets.geilicdn.com/decoration/shop-sku/0.0.8/",n(n.s=10)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.r(e),n.d(e,"default",(function(){return h}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,f=function(){},l=null,d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,i){c=n,l=i||{};var a=r(t,e);return p(a),function(e){for(var n=[],i=0;i<a.length;i++){var s=a[i];(u=o[s.id]).refs--,n.push(u)}e?p(a=r(t,e)):a=[];for(i=0;i<n.length;i++){var u;if(0===(u=n[i]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete o[u.id]}}}}function p(t){for(var e=0;e<t.length;e++){var n=t[e],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(m(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(m(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(c)return f;r.parentNode.removeChild(r)}if(d){var i=u++;r=s||(s=v()),e=b.bind(null,r,i,!1),n=b.bind(null,r,i,!0)}else r=v(),e=_.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var g,y=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function b(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function _(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),l.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(1).default)("7c216808",r,!1,{})},function(t,e,n){var r=n(14);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(1).default)("2a18aa12",r,!1,{})},function(t,e,n){var r=n(16);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(1).default)("2ae7a317",r,!1,{})},function(t,e,n){var r=n(18);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(1).default)("132b9c7c",r,!1,{})},function(t,e,n){var r=n(21);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(1).default)("28e3d3ae",r,!1,{})},function(t,e,n){var r=n(23);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(1).default)("0e9a6517",r,!1,{})},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){"use strict";(function(t){!function(){try{Number(t.env.RPX_CONVERSION_VALUE)}catch(t){}}();!function(){try{t.env.RPX_UNIT}catch(t){}}()}).call(this,n(19))},function(t,e,n){"use strict";t.exports=n(24).default},function(t,e,n){"use strict";var r=n(2);n.n(r).a},function(t,e,n){(e=n(0)(!1)).push([t.i,".sku-header[data-v-67b64da0]{display:flex;padding:.533333rem;border-bottom:1px solid #eaeaea;-webkit-tap-highlight-color:rgba(0,0,0,0)}.sku-header .img[data-v-67b64da0]{flex:0 0 auto;display:block;width:2.4rem;height:2.4rem;-o-object-fit:cover;object-fit:cover}.sku-header .intro[data-v-67b64da0]{margin-left:.4rem;flex:1;display:flex;justify-content:center;flex-direction:column}.sku-header .price[data-v-67b64da0]{margin-bottom:.133333rem;height:.586667rem;overflow:hidden}.sku-header .current-price[data-v-67b64da0]{font-size:.453333rem;color:#ff3938;font-weight:700}.sku-header .original-price[data-v-67b64da0]{margin-left:.133333rem;text-decoration:line-through;font-size:.346667rem;color:#919191}.sku-header .final-price[data-v-67b64da0]{font-size:.373333rem;color:grey}.sku-header .tax[data-v-67b64da0]{margin-bottom:.133333rem}.sku-header .current[data-v-67b64da0],.sku-header .tax[data-v-67b64da0]{font-size:.373333rem;color:#555}",""]),t.exports=e},function(t,e,n){"use strict";var r=n(3);n.n(r).a},function(t,e,n){(e=n(0)(!1)).push([t.i,".sku-body[data-v-7b3f94f5]{padding:0 .266667rem .533333rem .533333rem;max-height:7.466667rem;overflow:auto;-webkit-overflow-scrolling:touch;-webkit-tap-highlight-color:rgba(0,0,0,0)}.sku-body .title[data-v-7b3f94f5]{margin-top:.533333rem;margin-bottom:.266667rem;font-size:.32rem;line-height:.586667rem;color:#555}.sku-body .title.attr[data-v-7b3f94f5]{margin-top:0}.sku-body .title.attr[data-v-7b3f94f5]:first-of-type{margin-top:.533333rem}.sku-body .list[data-v-7b3f94f5]{margin:0;padding:0;display:flex;flex-wrap:wrap}.sku-body .item[data-v-7b3f94f5]{flex:0 0 auto;margin-bottom:.266667rem;margin-right:.266667rem;padding:.133333rem .533333rem;border-radius:.053333rem;font-size:.4rem;color:#333;background-color:#f2f2f3}.sku-body .item.active[data-v-7b3f94f5]{background-image:linear-gradient(-90deg,#ff3938,#fe5c5f 99%);border-radius:.053333rem;color:#fff}.sku-body .item.disabled[data-v-7b3f94f5]{color:#c7c7c7;pointer-events:none}.counter[data-v-7b3f94f5]{margin-bottom:.266667rem;display:flex;align-items:center}.counter .add[data-v-7b3f94f5],.counter .dec[data-v-7b3f94f5]{flex:0 0 auto;width:1.04rem;height:.853333rem;line-height:.853333rem;background-color:#f2f2f3;color:#999;font-size:.533333rem;font-weight:700;text-align:center}.counter .dec[data-v-7b3f94f5]{border-top-left-radius:.053333rem;border-bottom-left-radius:.053333rem}.counter .add[data-v-7b3f94f5]{border-top-right-radius:.053333rem;border-bottom-right-radius:.053333rem}.counter .disabled[data-v-7b3f94f5]{color:#c7c7c7;pointer-events:none}.counter .num[data-v-7b3f94f5]{flex:0 0 auto;margin:0 .08rem;width:1.04rem;height:.853333rem;font-size:.4rem;color:#333;background-color:#f2f2f3;border:none;text-align:center;-webkit-appearance:none;-moz-appearance:none;appearance:none}.counter .limit[data-v-7b3f94f5],.counter .stock[data-v-7b3f94f5]{margin-left:.133333rem;color:grey;font-size:.373333rem;font-weight:200}",""]),t.exports=e},function(t,e,n){"use strict";var r=n(4);n.n(r).a},function(t,e,n){(e=n(0)(!1)).push([t.i,".sku-footer[data-v-4683e9ae]{width:100%;font-size:.373333rem;font-weight:700;text-align:center;padding:.4rem 0;color:#999;background-color:#f2f2f3}.sku-footer.active[data-v-4683e9ae]{color:#fff;background-color:#ff3938}",""]),t.exports=e},function(t,e,n){"use strict";var r=n(5);n.n(r).a},function(t,e,n){(e=n(0)(!1)).push([t.i,".tall-iphone .sku-footer{padding-bottom:.666667rem}",""]),t.exports=e},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var t=s(d);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||f||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(6);n.n(r).a},function(t,e,n){(e=n(0)(!1)).push([t.i,".sku-cart-fly{border-radius:50%;-o-object-fit:cover;object-fit:cover}",""]),t.exports=e},function(t,e,n){"use strict";var r=n(7);n.n(r).a},function(t,e,n){(e=n(0)(!1)).push([t.i,'.sku-ct[data-v-6de5ab34]{margin:0 auto;position:fixed;top:0;bottom:0;left:0;right:0;width:100%;max-width:640px;z-index:2000;background-color:rgba(0,0,0,.4);-webkit-tap-highlight-color:rgba(0,0,0,0)}.sku-wrapper[data-v-6de5ab34]{position:absolute;bottom:0;left:0;right:0;background-color:#fff;line-height:.586667rem}.sku-close[data-v-6de5ab34]{position:absolute;width:1.333333rem;height:1.333333rem;top:0;right:0;z-index:1}.sku-close[data-v-6de5ab34]:before{transform:rotate(45deg);content:"";width:.026667rem;height:.4rem;background-color:#d8d8d8;position:absolute;top:.4rem;right:.6rem}.sku-close[data-v-6de5ab34]:after{transform:rotate(-45deg);content:"";width:.026667rem;height:.4rem;background-color:#d8d8d8;position:absolute;top:.4rem;right:.6rem}',""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"get",(function(){return z})),n.d(r,"set",(function(){return J}));var i={};n.r(i),n.d(i,"create",(function(){return Ce})),n.d(i,"request",(function(){return Ee})),n.d(i,"use",(function(){return Te}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"sku-ct",attrs:{"data-spider":"sku_wrap"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[n("div",{staticClass:"sku-wrapper"},[n("div",{staticClass:"sku-close",attrs:{"data-spider-action-name":"sku_close"},on:{click:t.close}}),t._v(" "),n("TheHeader",{ref:"TheHeader",attrs:{itemData:t.itemData,skuData:t.skuData,current:t.current}}),t._v(" "),n("TheBody",{ref:"TheBody",attrs:{itemData:t.itemData,skuData:t.skuData,current:t.current},on:{setCurrent:t.setCurrent}}),t._v(" "),n("TheFooter",{attrs:{itemData:t.itemData,skuData:t.skuData,current:t.current,tips:t.requireTips},on:{addCart:t.requestAddCart}})],1)])};o._withStripped=!0;var a=n(8),s=n.n(a),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sku-header",attrs:{"data-spider":"sku_header"}},[t.img?n("img",{staticClass:"img",attrs:{id:"sku-img",src:t.cropImg(t.img),alt:"商品图片"}}):t._e(),t._v(" "),n("div",{staticClass:"intro"},[n("p",{staticClass:"price"},[n("span",{staticClass:"current-price"},[t._v(t._s(t.price.current))]),t._v(" "),t.price.original&&t.price.original!==t.price.current&&!t.isPre?n("span",{staticClass:"original-price"},[t._v(t._s(t.price.original))]):t._e(),t._v(" "),t.isPre?n("span",{staticClass:"final-price"},[t._v("（到手价：￥"+t._s(t.price.final)+"）")]):t._e()]),t._v(" "),t.itemData&&t.itemData.flag.is_tax_rate&&t.itemData.tax_info?n("p",{staticClass:"tax"},[t._v("\n            税费：¥"+t._s(t.curSku&&t.curSku.tax_fee||t.itemData.tax_info.tax_fee)+"\n        ")]):t._e(),t._v(" "),t.curSku?n("p",{staticClass:"current"},[t.curSku.title?n("span",[t._v("已选“"+t._s(t.curSku.title)+"”")]):t._e(),t._v(" "),t.curSku.title&&2===t.current.channel?n("span",[t._v("；“积分抵扣”")]):t._e()]):t._e()])])};u._withStripped=!0;var c=1,f=5,l="https://si.geilicdn.com/hz_img_047a00000162ae77f2a30a02685e_480_480_unadjust.png?w=40&h=40&cp=1",d="查询商品信息失败，请稍候重试",h={props:["itemData","skuData","current"],data:function(){return{defaultImg:l}},computed:{curSku:function(){var t=this.current;return t&&t.sku||null},img:function(){var t=this.itemData,e=this.skuData,n=this.current,r=this.curSku;if(r&&r.img)return r.img||"";var i,o=e&&e.attr_list;if(o&&n&&(n.attrs.forEach((function(t,e){t&&o[e]&&o[e].attr_values.find((function(e){e.attr_id===t&&e.has_img&&e.img&&(i=e.img)}))})),i))return i;return t&&t.imgs[0]||""},isPre:function(){var t=this.itemData;if(!t)return!1;var e=t.pre_sale_info;return t.special_price_type===f&&e&&1===e.status},price:function(){var t=this.itemData,e=this.current,n=this.curSku,r=this.isPre;if(!t)return{};var i=t.pre_sale_info,o=2===e.channel,a=n&&n.point_price||t.point_price,s=n&&n.origin_price||t.origin_price;return{current:r&&i&&i.earnest_money?"定金￥".concat(i.earnest_money):o&&a?"￥".concat(a.price," + ").concat(a.point,"分"):"￥".concat(n?n.price:!o&&t.special_price_type!==c&&t.special_price||t.origin_price||t.itemLowPrice/100),original:!!s&&"￥".concat(s),final:"￥".concat(t.special_price)}}},methods:{cropImg:function(t){if(!t)return t;var e=t.split("?")[0],n=t;return/png|jpe?g$/.test(e)&&(n="".concat(e,"?w=").concat(180,"&h=").concat(180,"&cp=1")),n}}};n(11);function p(t,e,n,r,i,o,a,s){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(t,e){return u.call(e),f(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}var v=p(h,u,[],!1,null,"67b64da0",null);v.options.__file="TheHeader.vue";var m=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sku-body",on:{touchstart:t.touchStartHandler,touchmove:function(e){return e.stopPropagation(),t.touchMoveHandler(e)},"&scroll":function(e){return t.scrollHandler(e)}}},[t.attrList?[t._l(t.attrList,(function(e,r){return[n("div",{key:r,staticClass:"title attr"},[t._v(t._s(e.attr_title))]),t._v(" "),n("ul",{key:r,staticClass:"list"},t._l(e.attr_values,(function(e){return n("li",{key:e.attr_id,staticClass:"item",class:{active:t.current&&t.current.attrs&&t.current.attrs[r]===e.attr_id,disabled:t.isDisabled(e,r)},on:{click:function(n){return t.selectAttr(e,r)}}},[t._v(t._s(e.attr_value))])})),0)]}))]:t.skuList?[n("div",{staticClass:"title"},[t._v("商品型号")]),t._v(" "),n("ul",{staticClass:"list"},t._l(t.skuList,(function(e){return n("li",{key:e.id,staticClass:"item",class:{active:t.current.sku&&t.current.sku.id===e.id,disabled:0===e.stock},on:{click:function(n){return t.select(e)}}},[t._v("\n                "+t._s(e.title)+"\n            ")])})),0)]:t._e(),t._v(" "),n("div",{staticClass:"title"},[t._v("数量")]),t._v(" "),n("div",{staticClass:"counter"},[n("div",{staticClass:"dec",class:{disabled:t.count<=1},on:{click:t.decrease}},[t._v("-")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"num",attrs:{type:"number",min:"1",max:t.max},domProps:{value:t.count},on:{blur:function(e){return t.validate(1)},input:[function(e){e.target.composing||(t.count=e.target.value)},t.validate]}}),t._v(" "),n("div",{staticClass:"add",class:{disabled:t.count>=t.max},on:{click:t.add}},[t._v("+")]),t._v(" "),n("span",{staticClass:"stock"},[t._v("库存"+t._s(t.stock)+"件")]),t._v(" "),t.limit?n("span",{staticClass:"limit"},[t._v("限购"+t._s(t.limit)+"件")]):t._e()]),t._v(" "),t.isPointItem?[n("div",{staticClass:"title"},[t._v("支付方式")]),t._v(" "),n("ul",{staticClass:"list"},[n("li",{staticClass:"item",class:{active:2!==t.current.channel},on:{click:function(e){return t.setChannel(1)}}},[t._v("全额支付")]),t._v(" "),n("li",{staticClass:"item",class:{active:2===t.current.channel},on:{click:function(e){return t.setChannel(2)}}},[t._v("积分抵扣")])])]:t._e()],2)};g._withStripped=!0;var y,b=navigator.userAgent.indexOf("Android")>-1;function _(t){var e=t.currentTarget,n=e.scrollHeight,r=e.offsetHeight,i=e.scrollTop;if(n===r&&t.preventDefault(),!b)return!1;var o=t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientY-y;i===n-r?o<0&&t.preventDefault():0===i&&o>0&&t.preventDefault()}var k={props:["itemData","skuData","current"],data:function(){return{count:1}},computed:{attrList:function(){return this.skuData&&this.skuData.attr_list},skuList:function(){return this.skuData&&this.skuData.sku&&Object.values(this.skuData.sku)},isPointItem:function(){var t=this.itemData;return t&&t.flag&&t.flag.is_point_item},stock:function(){var t=this.itemData,e=this.current;return e&&e.sku?e.sku.stock:t&&t.stock||0},limit:function(){var t=this.itemData;return t&&t.flag&&t.flag.is_stock_limit?t.limit_num:0},max:function(){var t=this.stock;return this.limit||t}},watch:{count:function(){this.validate()},stock:function(){this.validate()}},mounted:function(){this.$el.addEventListener("touchmove",_,{passive:!1})},methods:{touchStartHandler:function(t){if(!b)return!1;y=t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientY},touchMoveHandler:_,scrollHandler:function(t){var e=t.target,n=e.scrollHeight,r=e.offsetHeight,i=e.scrollTop;0===i?t.target.scrollTop+=1:i===n-r&&(t.target.scrollTop-=1)},select:function(t){var e=this.current;e&&e.sku&&e.sku.id===t.id&&(t=void 0),this.$emit("setCurrent",{sku:t})},selectAttr:function(t,e){var n=this.current,r=this.skuList,i=n.attrs.slice(0);i[e]===t.attr_id?i[e]="":i[e]=t.attr_id;var o=i[e]&&r.find((function(t){if(t)return t.attr_ids===i.join("-")?t:void 0}))||void 0;this.$emit("setCurrent",{attrs:i,sku:o})},setChannel:function(t){this.$emit("setCurrent",{channel:t})},decrease:function(){this.count>1&&this.count--},add:function(){var t=this.max;this.count<t&&this.count++},validate:function(t){var e=this.count,n=this.max;if(!e){if("number"!=typeof t)return;this.count=t}e<1?this.count=1:e>n&&(this.count=n)},isDisabled:function(t,e){var n=this;return!this.skuList.some((function(r){if(!r)return!1;var i=r.attr_ids,o=r.stock,a=i.split("-");return!!(n.isMatchedAttrs(a,e)&&a[e]==t.attr_id&&o>0)||void 0}))},isMatchedAttrs:function(t,e){return this.current.attrs.every((function(n,r){return e===r||(!n||n==t[r])}))}}},w=(n(13),p(k,g,[],!1,null,"7b3f94f5",null));w.options.__file="TheBody.vue";var x=w.exports,C=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"sku-footer",class:{active:this.active},attrs:{"data-spider":"sku_footer"},on:{click:this.addCart}},[this._v(this._s(this.text))])};function S(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}C._withStripped=!0;var T={props:["itemData","skuData","current","tips"],computed:{isSoldOut:function(){var t=this.itemData,e=this.skuData,n=e&&e.sku;if(!n)return t&&t.stock<=0;var r,i=S(n?Object.values(n):[]);try{for(i.s();!(r=i.n()).done;){if(r.value.stock>0)return!1}}catch(t){i.e(t)}finally{i.f()}return!0},active:function(){var t=this.isSoldOut,e=this.skuData,n=this.current;return!t&&(!e||!e.sku||!(!n||!n.sku))},text:function(){return this.isSoldOut?"已售空":this.tips||"加入购物车"}},methods:{addCart:function(){if(!this.active)return!1;this.$emit("addCart")}}},D=(n(15),n(17),p(T,C,[],!1,null,"4683e9ae",null));D.options.__file="TheFooter.vue";var j=D.exports,M="[big.js] Invalid ",O=M+"decimal places",A={},I=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function R(t,e,n,r){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||void 0!==i[o+1]||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error("[big.js] Invalid rounding mode");if(o<1)i.length=1,r?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error("[big.js] Invalid rounding mode");return t}function N(t,e,n,r){var i,o,a=t.constructor,s=!t.c[0];if(void 0!==n){if(n!==~~n||n<(3==e)||n>1e6)throw Error(3==e?M+"precision":O);for(n=r-(t=new a(t)).e,t.c.length>++r&&R(t,n,a.RM),2==e&&(r=t.e+n+1);t.c.length<r;)t.c.push(0)}if(i=t.e,n=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&r<=i||i<=a.NE||i>=a.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!s||4==e)?"-"+o:o}A.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,o=e.s==t.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>1e6)throw Error(O);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*o);var s,u,c,f,l,d=i.slice(),h=s=i.length,p=r.length,v=r.slice(0,s),m=v.length,g=t,y=g.c=[],b=0,_=a+(g.e=e.e-t.e)+1;for(g.s=o,o=_<0?0:_,d.unshift(0);m++<s;)v.push(0);do{for(c=0;c<10;c++){if(s!=(m=v.length))f=s>m?1:-1;else for(l=-1,f=0;++l<s;)if(i[l]!=v[l]){f=i[l]>v[l]?1:-1;break}if(!(f<0))break;for(u=m==s?i:d;m;){if(v[--m]<u[m]){for(l=m;l&&!v[--l];)v[l]=9;--v[l],v[m]+=10}v[m]-=u[m]}for(;!v[0];)v.shift()}y[b++]=f?c:++c,v[0]&&f?v[m]=r[h]||0:v=[r[h]]}while((h++<p||void 0!==v[0])&&o--);return y[0]||1==b||(y.shift(),g.e--),b>_&&R(g,a,n.RM,void 0!==v[0]),g},A.minus=A.sub=function(t){var e,n,r,i,o=this,a=o.constructor,s=o.s,u=(t=new a(t)).s;if(s!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,l=t.c,d=t.e;if(!c[0]||!l[0])return l[0]?(t.s=-u,t):new a(c[0]?o:0);if(s=f-d){for((i=s<0)?(s=-s,r=c):(d=f,r=l),r.reverse(),u=s;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<l.length)?c:l).length,s=u=0;u<n;u++)if(c[u]!=l[u]){i=c[u]<l[u];break}if(i&&(r=c,c=l,l=r,t.s=-t.s),(u=(n=l.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;n>s;){if(c[--n]<l[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=l[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(t.s=1,c=[d=0]),t.c=c,t.e=d,t},A.plus=A.add=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(i!=o)return t.s=-o,n.minus(t);var a=n.e,s=n.c,u=t.e,c=t.c;if(!s[0]||!c[0])return c[0]?t:new r(s[0]?n:0*i);if(s=s.slice(),i=a-u){for(i>0?(u=a,e=c):(i=-i,e=s),e.reverse();i--;)e.push(0);e.reverse()}for(s.length-c.length<0&&(e=c,c=s,s=e),i=c.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+c[i]+o)/10|0;for(o&&(s.unshift(o),++u),i=s.length;0===s[--i];)s.pop();return t.c=s,t.e=u,t},A.times=A.mul=function(t){var e,n=this,r=n.constructor,i=n.c,o=(t=new r(t)).c,a=i.length,s=o.length,u=n.e,c=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!o[0])return new r(0*t.s);for(t.e=u+c,a<s&&(e=i,i=o,o=e,c=a,a=s,s=c),e=new Array(c=a+s);c--;)e[c]=0;for(u=s;u--;){for(s=0,c=a+u;c>u;)s=e[c]+o[u]*i[c-u-1]+s,e[c--]=s%10,s=s/10|0;e[c]=(e[c]+s)%10}for(s?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},A.toFixed=function(t){return N(this,2,t,this.e+t)},A.toString=function(){return N(this)};var P=function t(){function e(n){var r=this;if(!(r instanceof e))return void 0===n?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(t,e){var n,r,i;if(0===e&&1/e<0)e="-0";else if(!I.test(e+=""))throw Error(M+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".",""));(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length);for(i=e.length,r=0;r<i&&"0"==e.charAt(r);)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}}(r,n),r.constructor=e}return e.prototype=A,e.DP=20,e.RM=1,e.NE=-7,e.PE=21,e.version="5.2.2",e}();function q(t,e,n){try{return Number(new P(t)[n](new P(e)).toString())}catch(t){return NaN}}var $=Number.prototype;$.mul=function(t){return q(this,t,"mul")},$.div=function(t){return 0===t?this/t:q(this,t,"div")},$.minus=function(t){return q(this,t,"minus")},$.plus=function(t){return q(this,t,"plus")},$.toFixed2=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),isNaN(t)&&(t=0);try{if(e&&t>=0){var n=this.toString().split("."),r=n[1];if(r&&r.length>=t)return r=r.substr(0,t),n[0]+(r.length?"."+r:"")}return new P(this).toFixed(t)}catch(t){return""}};var H=window,B=(new RegExp("([^=]+)=(.*)"),H.decodeURIComponent),L=H.encodeURIComponent,U=H.escape;function F(t){return t.replace(/(%[0-9A-Z]{2})+/g,B)}var z={name:F,value:function(t){return F(t)}},J={name:function(t){return L(t).replace(/%(23|24|26|2B|5E|60|7C)/g,B).replace(/[\(\)]/g,U)},value:function(t){return L(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,B)}};var G={yy:"(\\d{2})",yyyy:"(\\d{4})",M:"((?:1[0-2])|[1-9])",MM:"((?:0[1-9])|(?:1[0-2]))",d:"((?:[1-2]\\d)|(?:3[0-1])|[1-9])",dd:"((?:0[1-9])|(?:[1-2]\\d)|(?:3[0-1]))",H:"((?:1\\d)|(?:2[0-3])|\\d)",HH:"((?:[0-1]\\d)|(?:2[0-3]))",m:"((?:[1-5]\\d)|\\d)",mm:"([0-5]\\d)",s:"((?:[1-5]\\d)|\\d)",ss:"([0-5]\\d)"},W=/[-\/\\^$*+?.()|[\]{}]/g,X=/yyyy|yy|MM|M|dd|d|HH|H|mm|m|ss|s/g,K=/yyyy|yy|MM|M|dd|d|HH|H|mm|m|ss|s|E/g;var V=function(t){return t<10?"0"+t:t+""},Y=function(t,e){var n=e.replace(W,"\\$&"),r=0,i={tokenMap:{},numberParts:[],errorFlag:!1};n="^"+(n=n.replace(X,(function(t){return i.tokenMap[t]=r++,G[t]})))+"$";var o=t.match(new RegExp(n))||[];return 0===o.length?i.errorFlag=!0:(o.shift(),i.numberParts=o.slice()),i};new(function(){function t(){}return t.prototype.format=function(t,e){return t instanceof Date?e=(e=e||"yyyy-MM-dd").replace(K,(function(e){return function(t,e){return{yy:(e.getFullYear()+"").slice(-2),yyyy:e.getFullYear(),M:e.getMonth()+1,MM:V(e.getMonth()+1),d:e.getDate(),dd:V(e.getDate()),H:e.getHours(),HH:V(e.getHours()),m:e.getMinutes(),mm:V(e.getMinutes()),s:e.getSeconds(),ss:V(e.getSeconds()),E:e.getDay()}[t]}(e,t)+""})):""},t.prototype.parse=function(t,e){if(!t||!e)return new Date(NaN);if("string"!=typeof t||"string"!=typeof e)return new Date(NaN);var n=Y(t,e);if(n.errorFlag)return new Date(NaN);var r=n.numberParts,i=n.tokenMap,o=r.map((function(t){return Number(t)})),a=o[i.yyyy]||o[i.yy]||0;r[i.yy]&&(a+=function(t){return Number((t.getFullYear()+"").replace(/\d{2}$/,"00"))}(new Date));var s=(o[i.MM]||o[i.M]||1)-1,u=o[i.dd]||o[i.d]||1,c=o[i.HH]||o[i.H]||0,f=o[i.mm]||o[i.m]||0,l=o[i.ss]||o[i.s]||0;return new Date(a,s,u,c,f,l)},t}());var Z=window,Q=document;function tt(){}function et(t){return null==t}function nt(t){return null==t||""===t}function rt(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function it(t){return rt("Number")(t)}function ot(t){return rt("String")(t)}function at(t){return rt("Error")(t)}function st(t){return rt("Array")(t)}function ut(t){return"function"==typeof t}function ct(t){return rt("Date")(t)}function ft(t){return rt("Boolean")(t)}function lt(t){return rt("Object")(t)}function dt(t){return null!==t&&"object"==typeof t}function ht(t){return"undefined"!=typeof FormData&&t instanceof FormData}function pt(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function vt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mt(t,e){if(st(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else if(lt(t))for(var i in t)vt(t,i)&&e.call(null,t[i],i,t)}function gt(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return ft(t)?(e=t,n=r.shift()):n=t,mt(r,(function(t){mt(t,(function(t,r){e&&(st(t)||lt(t))?(st(t)?st(n[r])||(n[r]=[]):lt(n[r])||(n[r]={}),gt(e,n[r],t)):n[r]=t}))})),n}function yt(t){return Array.prototype.slice.call(t)}function bt(t){return t>=200&&t<300||304==t}var _t=function(){function t(){this.hooks={}}return t.prototype.push=function(t,e){var n=this.hooks[t]||(this.hooks[t]=[]);return"function"==typeof e&&n.push(e),this},t.prototype.invokeWaterfall=function(t,e,n){var r=this.hooks[t];if(!r||!r.length)return n(),this;var i=0;return r[i](e,(function t(o){return at(o)?n(o):++i>=r.length?n():void r[i](e,t)})),this},t}();function kt(t){return encodeURIComponent(t).replace(/%20/g,"+")}function wt(t){if(pt(t))return t.toString();var e=t;if(lt(t)||st(t)){var n=[];mt(t,(function(t,e){et(t)||(st(t)?e+="[]":t=[t],mt(t,(function(t){ct(t)?t=t.toISOString():dt(t)&&(t=JSON.stringify(t)),n.push(kt(e)+"="+kt(t))})))})),e=n.join("&")}return e}function xt(t,e){if(!ot(t))return"";var n=t.split("#");t=n[0];var r=wt(e);return ot(r)&&r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),n[0]=t,n.join("#")}function Ct(t,e,n){n=n||tt,ut(t)?t(e,(function(){n(e)})):n(e)}function St(t,e){var n=e.responseType,r=e.url,i=e.success,o=e.error;if(4===t.readyState){var a=function(t,e){var n=e.url;return 0===t&&0===n.indexOf("file:")?200:{1223:204}[t]||t}(t.status,{url:r}),s=void 0;if(bt(a)){try{s=function(t,e){var n=e.responseType,r=e.status,i=t.response;if("json"===n&&"json"!==t.responseType&&!lt(i))try{i=JSON.parse(t.responseText)}catch(t){throw t}return{data:i,status:r}}(t,{responseType:n,status:a})}catch(n){return Ct(e.beforeError,{request:t,response:s,options:e,error:n},o)}Ct(e.beforeSuccess,{request:t,response:s,options:e},i)}else Ct(e.beforeError,{request:t,response:s,options:e,error:new Error("Network Error")},o)}}function Et(t){(t=gt({method:"GET",responseType:"json",withCredentials:!0,cache:!0},t)).method=t.method||"GET";var e=new XMLHttpRequest;function n(t){var e=t.request,n=t.options;e.send("GET"===n.method?null:wt(n.data))}Ct(t.configured,{request:e,options:t},(function(t){var e=t.request,r=t.options;r.method=r.method.toUpperCase(),e.open(r.method,function(t,e){var n=e.method,r=e.cache,i=e.data;return"GET"===n&&(t=xt(t,i),r||(t=xt(t,{_:Date.now()}))),t}(r.url,r),!0),e.onreadystatechange=function(){St(e,r)},function(t,e){e.withCredentials&&(t.withCredentials=!0)}(e,r),function(t,e){var n=e.responseType;if(n)try{t.responseType=n}catch(t){}}(e,r),function(t,e){var n=e.headers,r=e.method,i=e.data;if(lt(n))for(var o in n)if(n.hasOwnProperty(o)&&!et(n[o])){if("content-type"===o.toLowerCase()&&("GET"===r||ht(i)))continue;t.setRequestHeader(o,n[o])}}(e,r),Ct(r.beforeRequest,{request:e,options:r},n)}))}var Tt=["configured","beforeRequest","beforeSuccess","beforeError"];var Dt=function(){function t(t){this.options=t||{},this.hooks=new _t,this._installedPlugins=[]}return t.prototype.request=function(t,e){var n=this,r=gt(!0,{},this.options,e||{},{url:t,extra:{}});return new Promise((function(t,e){ot(r.url)&&r.url?(!function(t,e){mt(Tt,(function(n){t[n]=function(t,r){e.hooks.invokeWaterfall(n,t,r)}}))}(r,n),r.success=t,r.error=e,Et(r)):e(new Error("Url Error"))}))},t.prototype.use=function(t){return this._installedPlugins.indexOf(t)>-1||!ut(t)||(t.call(this),this._installedPlugins.push(t)),this},t}();function jt(t){var e=t.response,n=t.options,r=e.data;return"json"!==n.responseType||dt(r)?r:Promise.reject(new Error("JSON Data Error"))}function Mt(){var t=this;t.hooks.push("beforeRequest",(function(t,e){var n,r=t.options;lt(n=r.data)&&mt(n,(function(t,e){(lt(t)||st(t))&&(n[e]=JSON.stringify(t))})),e()}));var e=t.request;t.request=function(){return e.apply(t,arguments).then(jt,(function(t){var e=at(t)?t:t.error;return Promise.reject(e)}))}}var Ot=window,At=new RegExp("([^=]+)=(.*)"),It=Ot.decodeURIComponent,Rt=Ot.encodeURIComponent,Nt=Ot.escape;function Pt(t){return t.replace(/(%[0-9A-Z]{2})+/g,It)}var qt={get:{name:Pt,value:function(t){return Pt(t)}},set:{name:function(t){return Rt(t).replace(/%(23|24|26|2B|5E|60|7C)/g,It).replace(/[\(\)]/g,Nt)},value:function(t){return Rt(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,It)}}};var $t={},Ht=!1,Bt=!1,Lt=[];function Ut(){if(!Bt){Bt=!0;var t,e=0;t=function(t){t&&($t.suid=t),n()},et(Z.KDJSBridge2)?t():Z.KDJSBridge2.call("WDJSBridge","getSuid",{},(function(e){e&&e.param&&e.param.suid?t(e.param.suid):t()})),function(t){et(Z.KDJSBridge2)?t():Z.KDJSBridge2.call("WDJSBridge","getCuid",{},(function(e){e&&e.param&&e.param.cuid?t(e.param.cuid):t()}))}((function(t){t&&($t.cuid=t),n()}))}function n(){var t;2===++e&&(Ht=!0,t=$t,mt(Lt,(function(e){e(t)})),Lt.length=0)}}function Ft(t){Ut(),Ht?t($t):function(t){Lt.push(t)}(t)}function zt(t){var e=function(t){var e;if(!nt(t))return Ot.document.cookie.split("; ").some((function(n){var r=n.match(At);return!(!r||qt.get.name(r[1])!==t)&&(e=qt.get.value(r[2]),!0)})),e}("wdtoken");if(e){if(lt(t))return void(t.wdtoken=e);if(ht(t))return void t.append("wdtoken",e);if(pt(t))return void t.set("wdtoken",e)}}function Jt(t){return t&&t.status&&0===t.status.code?t:Promise.reject(t)}function Gt(){return Promise.reject({status:{code:-1},result:null})}var Wt=window,Xt=/^[^\?#]*\?([^#]*)/;function Kt(t){return encodeURIComponent(t)}function Vt(t){return decodeURIComponent(t.replace(/\+/g," "))}function Yt(t){var e=(t=function(t){var e;return t&&(e=t.match(Xt))&&e[1]||""}(t)).split("&"),n={};return e.forEach((function(t){if(t){var e=t.split("="),r=e[0],i=e.slice(1).join("=")||"";r&&(r=Vt(r),i=Vt(i),vt(n,r)?(st(n[r])||(n[r]=[n[r]]),n[r].push(i)):n[r]=i)}})),n}function Zt(t){if(!lt(t))return"";var e=[];return mt(t,(function(t,n){et(t)||(st(t)||(t=[t]),n=Kt(n),t.forEach((function(t){e.push(n+"="+Kt(t))})))})),e.join("&")}var Qt=["hash","host","hostname","pathname","port","protocol"],te=["href","search"],ee=["origin"],ne=Object.defineProperty;function re(t,e){return"query"===t?lt(e):ot(e)||it(e)}function ie(t){var e=Zt(t);return(e?"?":"")+e}var oe=function(){function t(t){nt(t)&&(t=Wt.location.href);var e=this._element=Wt.document.createElement("A");e.href=t,function(t,e){Qt.forEach((function(n){ne(t,n,{get:function(){return e[n]},set:function(t){re(n,t)&&(e[n]=t)},enumerable:!0})}))}(this,this._element),function(t,e){te.forEach((function(n){ne(t,n,{get:function(){return e.search=ie(e.query),e[n]},set:function(t){re(n,t)&&(e[n]=t,e.query=Yt(e.search))},enumerable:!0})}))}(this,this._element),function(t,e){var n;ne(t,n="query",{get:function(){return t.search=ie(e[n]),e[n]},set:function(t){re(n,t)&&(e[n]=t)},enumerable:!0})}(this,this._element),function(t,e){ee.forEach((function(n){ne(t,n,{get:function(){return e[n]},enumerable:!0})}))}(this,this._element),this.href=e.href}return t.prototype.toString=function(){return this.href},t}();function ae(t){return et(t)&&(t=Wt.location.href),Yt(t)}var se=/AppleWebKit.*Mobile.*/i,ue=navigator.userAgent.toLowerCase();function ce(){if(se.test(ue)){var t=document.querySelectorAll('meta[name="viewport"]'),e=t[t.length-1];if(e){var n=e.getAttribute("content"),r=n&&n.match(/initial\-scale=([\d\.]+)/);return r?1/Number(r[1]):1}}return 1}function fe(t){var e;if(lt(t)){var n=lt(t.status)?t.status:{},r=lt(t.result)?t.result:{},i=r.authPageUrl;if(20==n.code&&i)return i=function(t,e,n){var r=Wt.location.href;lt(t)&&(n=e,e=t,t=r),et(t)&&(t=r),n=gt({replace:!0},n);var i=new oe(t);if(n.replace)i.query=gt(i.query||{},e);else{var o=Zt(e);if(o){var a=-1===i.search.indexOf("?")?"?":"&";i.search+=a+o}}return i.toString()}(i,((e={}).redirect=Z.location.href,e)),r.message&&function(t){var e=ce(),n='<div class="hawk-toast">'+t+'</div><style type="text/css">.hawk-toast{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:10000;width:50%;color:#fff;background:rgba(33,33,33,0.9);line-height:1.5;border-radius:'+8*e+"px;max-width:"+300*e+"px;padding:"+20*e+"px;font-size:"+16*e+"px;}</style>",r=Q.body;if(r){var i=Q.createElement("div");i.innerHTML=n,r.appendChild(i),setTimeout((function(){r.removeChild(i)}),1500)}}(r.message),setTimeout((function(){var t;(t=i)&&Z.location.assign(t)}),1e3),!1}return!0}var le=Z.XMLHttpRequest,de=le&&le.prototype,he=de&&de.send;function pe(t,e,n){try{if(4==e.readyState&&bt(e.status)){var r=lt(e.response)?e.response:function(t){try{return JSON.parse(t)}catch(t){}}(e.responseText);return t.beforeSuccess(r,n)}}catch(t){}n()}var ve=Z.Element,me=ve&&ve.prototype,ge=["appendChild","insertBefore"];function ye(t,e,n){try{return t.beforeSuccess(e,n)}catch(t){}n()}function be(t){var e=t.split("."),n=e.length;if(n){var r,i=Z,o=Z;try{for(var a=0;a<n;a++){if(!o)return;r=e[a],o=(i=o)[r]}if(!ut(o))return}catch(t){return}return{namespace:i,name:r,definition:o}}}var _e=Z.fetch;function ke(t,e,n){try{if(bt(e.status))return e.clone().json().then((function(e){t.beforeSuccess(e,n)})).catch((function(){n()}))}catch(t){}n()}function we(t){lt(t)&&ut(t.beforeSuccess)&&(function(t){ut(he)&&(de.send=function(){var e=arguments,n=this,r=n.onreadystatechange,i=n.onload,o=!1;return r&&(o=!0,n.onreadystatechange=function(){var e=arguments;pe(t,n,(function(){r.apply(n,e)}))}),i&&!o&&(n.onload=function(){var e=arguments;pe(t,n,(function(){i.apply(n,e)}))}),he.apply(n,e)})}(t),function(t){mt(ge,(function(e){var n=me&&me[e];n&&(me[e]=function(e){if(e&&"SCRIPT"===e.tagName&&e.src){var r=ae(e.src).callback;if(ot(r)){var i=be(r);if(i){var o=i.definition;i.namespace[i.name]=function(e){var n=arguments;ye(t,e,(function(){o.apply(i.namespace,n)}))}}}}return n.apply(this,yt(arguments))})}))}(t),function(t){var e;"function"==typeof(e=_e)&&-1!==e.toString().indexOf("[native code]")&&(Z.fetch=function(){var e=arguments;return _e.apply(this,e).then((function(e){return new Promise((function(n){ke(t,e,(function(){n(e)}))}))}))})}(t))}Z.hawk=Z.hawk||{disabled:!1};var xe={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json, */*"};function Ce(t){t=gt(!0,{},{headers:xe,cache:!1},t);var e=new Dt(t);return e.use(Mt),e}var Se=Ce();function Ee(t,e){return Se.request(t,e)}function Te(t){return Se.use(t)}Se.use((function(){Z.hawk.disabled||(we({beforeSuccess:function(t,e){fe(t)&&e()}}),Z.hawk.disabled=!0)})),Se.use((function(){var t=this;t.hooks.push("configured",(function(t,e){var n,r,i=t.options;i.responseType="json",i.data=i.data||{},zt(i.data),i.extra.deviceId?(n=i.data,r=function(){e()},Ft((function(t){lt(n)&&(n.context=gt(n.context||{},t)),r()}))):e()}));var e=t.request;t.request=function(){return e.apply(t,arguments).then(Jt,Gt)}}));n(9);var De=window;function je(t){return null==t}function Me(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}function Oe(t){return Me("Array")(t)}function Ae(t){return Me("Object")(t)}function Ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Re(t,e){if(Oe(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else if(Ae(t))for(var i in t)Ie(t,i)&&e.call(null,t[i],i,t)}var Ne=/^[^\?#]*\?([^#]*)/;function Pe(t){return encodeURIComponent(t)}function qe(t){return decodeURIComponent(t.replace(/\+/g," "))}function $e(t){var e=(t=function(t){var e;return t&&(e=t.match(Ne))&&e[1]||""}(t)).split("&"),n={};return e.forEach((function(t){if(t){var e=t.split("="),r=e[0],i=e.slice(1).join("=")||"";r&&(r=qe(r),i=qe(i),Ie(n,r)?(Oe(n[r])||(n[r]=[n[r]]),n[r].push(i)):n[r]=i)}})),n}function He(t){if(!Ae(t))return"";var e=[];return Re(t,(function(t,n){je(t)||(Oe(t)||(t=[t]),n=Pe(n),t.forEach((function(t){e.push(n+"="+Pe(t))})))})),e.join("&")}var Be=["hash","host","hostname","pathname","port","protocol"],Le=["href","search"],Ue=["origin"],Fe=Object.defineProperty;function ze(t,e){return"query"===t?Ae(e):function(t){return Me("String")(t)}(e)||function(t){return Me("Number")(t)}(e)}function Je(t){var e=He(t);return(e?"?":"")+e}!function(){function t(t){var e;(null==(e=t)||""===e)&&(t=De.location.href);var n=this._element=De.document.createElement("A");n.href=t,function(t,e){Be.forEach((function(n){Fe(t,n,{get:function(){return e[n]},set:function(t){ze(n,t)&&(e[n]=t)},enumerable:!0})}))}(this,this._element),function(t,e){Le.forEach((function(n){Fe(t,n,{get:function(){return e.search=Je(e.query),e[n]},set:function(t){ze(n,t)&&(e[n]=t,e.query=$e(e.search))},enumerable:!0})}))}(this,this._element),function(t,e){var n;Fe(t,n="query",{get:function(){return t.search=Je(e[n]),e[n]},set:function(t){ze(n,t)&&(e[n]=t)},enumerable:!0})}(this,this._element),function(t,e){Ue.forEach((function(n){Fe(t,n,{get:function(){return e[n]},enumerable:!0})}))}(this,this._element),this.href=n.href}t.prototype.toString=function(){return this.href}}();navigator.userAgent.toLowerCase();function Ge(t){return null==t||""===t}function We(t){return Array.prototype.slice.call(t)}var Xe=window,Ke=document,Ve=Ke.createElement("a"),Ye=[".weidian.com",".koudai.com",".vdian.com",".geilicdn.com",".fangxin.com",".ruyu.com",".vdian.net",".91ruyu.com",".bibikan.cn"],Ze=/^(javascript|data):/i,Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;","`":"&#96;"},tn=(new RegExp("["+Object.keys(Qe).join("")+"]","g"),["url","src","filename"]),en=String.fromCharCode;function nn(t){return Ve.href=t,Ve}var rn=an(Ye);function on(t){return t="."!==t[0]?"^"+t:"(^|.)"+t.substr(1),t=(t+="$").replace(/\./g,"\\.")}function an(t){var e=t.map(on).join("|");return new RegExp("("+e+")")}function sn(t){if(Ge(t))return!1;var e,n,r,i=nn(t=(e=t,e.replace(/&#x([\dabcdef]+);?/gi,(function(t,e){return en(parseInt(e,16))})).replace(/&#(\d+);?/g,(function(t,e){return en(parseInt(e,10))}))).trim());return r=i.protocol,!Ze.test(r)&&(n=i.hostname,rn.test(n))}function un(t){var e=function(t){switch(t.nodeName){case"AUDIO":case"VIDEO":return t.src||t.currentSrc;case"OBJECT":return t.data;case"A":return t.href;case"PARAM":if(-1!==tn.indexOf(t.name))return t.value}return t.src}(t);e&&!function(t,e){return t.__safetyCache&&t.__safetyCache[e]}(t,e)&&(sn(e)?function(t,e){t.__safetyCache=t.__safetyCache||{},t.__safetyCache[e]=!0}(t,e):function(t){t.parentNode&&t.parentNode.removeChild(t)}(t))}var cn={A:un,IMG:un,IFRAME:un,AUDIO:un,VIDEO:un,EMBED:un,OBJECT:un,PARAM:un,SOURCE:un},fn=Object.keys(cn).join(","),ln={SCRIPT:un};Object.keys(ln).join(","),Xe.MutationObserver||Xe.WebKitMutationObserver;var dn,hn,pn,vn;dn=function(){Ke.body.querySelectorAll(fn).forEach((function(t){cn[t.nodeName](t)}))},void 0===hn&&(hn=200);function mn(t,e,n,r){var o=window.ShopSku&&window.ShopSku.config&&window.ShopSku.config.env,a="//thor.".concat(o&&"prod"!==o?o+".":"","weidian.com");return i.request("".concat(a).concat(t),{method:n||"get",data:{param:e},withCredentials:r}).then((function(t){return{body:t,code:t&&t.status&&t.status.code,result:t.result}}))}function gn(t,e){var n={delayTime:800,vertex_Rtop:5,speed:1.5,start:{},end:{},onEnd:function(){}},r=this;document.body.appendChild(t),r.init=function(t){if(this.setOptions(t),this.settings.delayTime){var e=this;setTimeout((function(){e.play()}),this.settings.delayTime)}else this.play()},r.extend=function(t,e){if(e===Object(e))for(var n in e)"object"==s()(e[n])?r.extend(t[n],e[n]):t[n]=e[n];return t},r.setOptions=function(e){this.settings=r.extend(n,e);var i=this.settings,o=i.start,a=i.end;t.style.marginTop="0px",t.style.marginLeft="0px",t.style.position="fixed",t.style.zIndex="99999999",t.style.left=o.left+"px",t.style.top=o.top+"px",t.style.width=o.width+"px",t.style.height=o.height+"px";var s=Math.min(o.top,a.top)-Math.abs(o.left-a.left)/3;s<i.vertex_Rtop&&(s=Math.min(i.vertex_Rtop,Math.min(o.top,a.top)));var u=Math.sqrt(Math.pow(o.top-a.top,2)+Math.pow(o.left-a.left,2)),c=Math.ceil(Math.min(Math.max(Math.log(u)/.05-75,30),100)/i.speed),f=o.top==s?0:-Math.sqrt((a.top-s)/(o.top-s)),l=(f*o.left-a.left)/(f-1),d=a.left==l?1.5/(a.left-o.left):(a.top-s)/Math.pow(a.left-l,2);r.extend(i,{count:-1,steps:c,vertex_left:l,vertex_top:s,curvature:d})},r.play=function(){this.move()},r.move=function(){var e=this.settings,n=e.start,i=e.count,o=e.steps,a=e.end,s=n.left+(a.left-n.left)*i/o,u=0==e.curvature?n.top+(a.top-n.top)*i/o:e.curvature*Math.pow(s-e.vertex_left,2)+e.vertex_top;if(null!=a.width&&null!=a.height){var c=o/2,f=a.width-(a.width-n.width)*Math.cos(i<c?0:(i-c)/(o-c)*Math.PI/2),l=a.height-(a.height-n.height)*Math.cos(i<c?0:(i-c)/(o-c)*Math.PI/2);t.style.width=f+"px",t.style.height=l+"px",t.style.fontSize=Math.min(f,l)+"px"}t.style.left=s+"px",t.style.top=u+"px",e.count++;var d=window.requestAnimationFrame((function(){r.move.call(r)}));i==o&&(this.destroy(),e.onEnd.call(),window.cancelAnimationFrame(d))},r.destroy=function(){t.parentNode.removeChild(t)},r.init(e)}vn=Xe.document.referrer||"",Xe.self==Xe.top||sn(vn)||(Xe.top.location.href=Xe.location.href);var yn,bn=function(t,e){return new gn(t,e)},_n=function(){},kn={config:function(t){t&&"object"===s()(t)&&Object.keys(t).forEach((function(e){window.ShopSku.config[e]=t[e]}))},addCart:_n,mixins:[{created:function(){window.addEventListener("click",(function(t){yn=t}),!0)},methods:{addCartCallback:function(t){var e=document.querySelector("#Js-cart")||document.querySelector("#js-cart");if(this.showAnimation(e,(function(){return t()})))return!0;this.close(),t("加入购物车成功")},showAnimation:function(t,e){if(!t)return!1;var n=t.getBoundingClientRect(),r={x:n.left+n.width/2,y:n.top+n.height/2};if(!(r.x>=0&&r.x<=document.documentElement.clientWidth&&r.y>=0&&r.y<=document.documentElement.clientHeight&&n.width>0&&n.height>0&&"none"!==t.style.display))return!1;var i=this.$refs.TheHeader;if(this.visible){var o=i.$el.querySelector("#sku-img");if(!o)return!1;var a=o.getBoundingClientRect(),s=o.src;this.close(),this.$nextTick((function(){this.cartFly(s,{x:a.left+a.width/2,y:a.top+a.height/2},r,e)}))}else{if(!yn)return!1;this.cartFly(i.cropImg(this.itemData.imgs&&this.itemData.imgs[0]),{x:yn.clientX,y:yn.clientY},r,e)}return!0},cartFly:function(t,e,n,r){var i=l,o=document.createElement("img");o.classList.add("sku-cart-fly"),o.onload=function(){var t=e.size||40,i=n.size||20;bn(o,{delayTime:0,start:{left:e.x-t/2,top:e.y-t/2,width:t,height:t},end:{left:n.x-i/2,top:n.y-i/2,width:i,height:i},onEnd:function(){r instanceof Function&&r()}})},o.onerror=function(){o.src=i},o.src=t||i}}}],components:{TheHeader:m,TheBody:x,TheFooter:j},props:{config:{type:Object,default:Object.create(null)}},data:function(){return{visible:!1,current:null,itemId:"",itemData:null,skuData:null,callback:_n}},computed:{requireTips:function(){var t=this.skuData,e=this.current,n=t&&t.attr_list;if(n)for(var r=e&&e.attrs,i=0;i<r.length;i++){if(!r[i])return"请选择".concat(n[i].attr_title)}else if(t&&t.sku&&(!e||!e.sku))return"请选择商品型号";return""}},created:function(){this.resetCurrent(),window.ShopSku.addCart=this.addCart},mounted:function(){var t=this.$refs.TheBody;this.$el.addEventListener("touchmove",(function(e){if(t&&t.$el&&t.$el.contains(e.target))return!0;e.preventDefault()}),{passive:!1})},methods:{resetCurrent:function(){this.current={channel:1,attrs:[]};var t=this.$refs.TheBody;t&&(t.count=1)},close:function(){this.resetCurrent(),this.visible=!1},addCart:function(t,e){var n=this,r=this;if(!t)return console.warn("缺少参数：itemId");r.itemId=String(t),e instanceof Function&&(r.callback=e),function(t){return mn("/detail/getItemInfo/1.0",{vitemId:t},"get",!1)}(t).then((function(t){var i=t.body,o=t.code,a=t.result;if(o)return n.$emit("error",i&&i.status&&i.status.message);var s=a&&a.default_model;if(!s||!s.item_info)return n.$emit("error",d);var u=s.item_info,c=s.sku_properties;r.itemData=u,r.callback=e;var f=u&&u.flag&&u.flag.is_point_item;if(f&&(r.current.channel=2),c&&c.sku&&Object.keys(c.sku).length||f){r.skuData=c;var l=c&&c.attr_list;l&&(r.current.attrs=new Array(l.length)),r.visible=!0}else r.requestAddCart()})).catch((function(t){console.error(t);var e=t&&t.status&&t.status.message;r.$emit("error",e||d)}))},requestAddCart:function(){var t=this,e=this.current,n=this.itemId,r=this.$refs.TheBody;(function(t){var e=t.itemId,n=t.skuId,r=void 0===n?0:n,i=t.count,o=void 0===i?1:i,a=t.payType;return mn("/vcart/addCart/2.0",{itemId:e,skuId:r,count:o,payType:void 0===a?1:a,source:"h5"},"post",!0)})({itemId:n,skuId:e&&e.sku&&e.sku.id,payType:e&&e.channel,count:r&&r.count}).then((function(e){t.addCartCallback((function(e){t.$emit("success",e)})),window.spider&&window.spider.trackAction({actionName:"sku_add_cart",actionArgs:{itemId:n}})})).catch((function(e){console.error(e);var r=e&&e.status&&e.status.message;t.$emit("error",r||"加入购物车失败"),window.spider&&window.spider.trackAction({actionName:"加入购物车失败",actionArgs:{itemId:n,message:r}})}))},setCurrent:function(t){var e=this;Object.keys(t).forEach((function(n){e.$set(e.current,n,t[n])}))}}},wn=(n(20),n(22),p(kn,o,[],!1,null,"6de5ab34",null));wn.options.__file="index.vue";e.default=wn.exports}]);