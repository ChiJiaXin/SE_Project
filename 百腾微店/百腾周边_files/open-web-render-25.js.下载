(window.openRenderLibJsonp=window.openRenderLibJsonp||[]).push([[25],{115:function(t,e,i){"use strict";i.r(e);var n=i(116),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=o.a},116:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(86)),o=u(i(64)),r=u(i(356)),a=i(80),s=i(359),d=i(81);function u(t){return t&&t.__esModule?t:{default:t}}var c=window.API.env,l=c.get("isDecorate");e.default={name:"Item",mixins:[o.default,r.default],props:["model","env","template"],data:function(){return{itemsTpt:[],hideSold:c.get("hideSold"),isDecorate:l}},computed:{titleLimit:function(){return this.template&&this.template.attr&&this.template.attr.titleLimit}},created:function(){this.itemsTpt=(0,s.findItemsFromTemplate)(this.template)},mounted:function(){var t=this;"rt"===this.env&&this.$on("clickEvent",function(e){e.event;var i=e.eventName,n=e.key,o=(e.index,void 0);o="number"==typeof n?t.ArrayCache[n]:t.model,"goTo"===i?t.goTo(o):"buy"===i?t.onClickSku(o):"loadMore"===i&&t.loadMoreItems()})},methods:{getItemTptByIndex:function(t){var e=this.itemsTpt.length;return this.itemsTpt[t%e]},getUsedData:function(t){this.template;var e=this.loading,i=this.itemLoading,o=this.ArrayCache,r=this.getItemTptByIndex,s=this.hideSold,u=this.titleLimit,c=void 0!==t.show_price_tag&&!t.show_price_tag,l=t.cate_id,h="0"===l||0===l?"热卖商品":t.title;return{loading:e,hideMoreTxt:i,hideLoading:!i,hideHasMore:!t.hasMore,title:(0,d.processTitle)(h,u),hideTitle:!t.title,content:t.content.map(function(e,i){var d=(0,n.default)(e),u=o.length;o.push(d);var l=0;if(d.tag){var h=(0,a.getSizeFromUrl)(d.tag),m=r(i),p=(m?m.attr:{tagHeight:0}).tagHeight;p&&(l=h.width/h.height*parseInt(p))}return{_key:u,itemName:d.title,img:d.img,price:d.price,priceInt:d.priceInt+".",priceFloat:d.priceFloat,originalPrice:"￥"+d.originalPrice,sold:"销量"+d.sold,discount:d.discount+"折",hideItemName:!t.show_item_name,hideOriginalPrice:!d.originalPrice,hideDiscount:c||Number(d.discount)<.1||Number(d.discount)>=10||d.isPointPrice,hidePoint:c||!d.isPointPrice,hideSold:s||d.sold<1,hideSoldOut:d.stock>0,hideCartBtn:!t.show_cart_btn||d.stock<1,hideTag:!t.show_item_name||!d.tag,tag:d.tag,tagWidth:l+"px",itemNameTextIndent:d.tag?l+10+"px":0}})}},goTo:function(t){if(t.url){var e=this.template,i=e.comId,n=e.tptId;window.API&&window.API.navUrl(t.url,"店铺首页-商品",{comId:i,tptId:n})}},onClickSku:function(t){t.id&&window.API.Bus.emit("onActiveSku",t.id,t.img,t.sku)}}}},130:function(t,e,i){var n=i(398);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0};i(55)(n,o);n.locals&&(t.exports=n.locals)},22:function(t,e,i){"use strict";i.r(e);var n=i(661),o=i(115);for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i(397);var a=i(53),s=Object(a.a)(o.default,n.a,n.b,!1,null,null,null);s.options.__file="workspace/edf2a1fc78b3d80980bb07447dd66c12/decoration_open-modules_prod/src/item/web/index.vue",e.default=s.exports},397:function(t,e,i){"use strict";var n=i(130);i.n(n).a},398:function(t,e,i){(t.exports=i(54)()).push([t.i,"",""])},661:function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return(this.model.content&&this.model.content.length||this.isDecorate)&&this.template?e("div",{staticClass:"ct"},[this._t("default",null,{data:this.moduleData})],2):this._e()},o=[];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},80:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSizeFromUrl=function(t){var e=t.split("_"),i=e.length,n=e[i-1].split(".")[0],o=0,r=0;isNaN(n)?(o=e[i-3],r=e[i-2]):(o=e[i-2],r=n);return{width:Number(o),height:Number(r)}}}}]);